<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Junga&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/662a2e5877ea920dd2ace92b7b842a98</icon>
  <subtitle>Stay Hungry Stay FoolishğŸ¤“</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://huangzhuangjia.github.io/"/>
  <updated>2019-01-11T09:55:56.313Z</updated>
  <id>https://huangzhuangjia.github.io/</id>
  
  <author>
    <name>JungaH</name>
    <email>junga666@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ğŸ”¥åŸºäºtaro + dva + typescript å¼€å‘çš„éŸ³ä¹æ’­æ”¾å™¨å°ç¨‹åº</title>
    <link href="https://huangzhuangjia.github.io/2019/01/11/taro-music/"/>
    <id>https://huangzhuangjia.github.io/2019/01/11/taro-music/</id>
    <published>2019-01-11T06:35:51.000Z</published>
    <updated>2019-01-11T09:55:56.313Z</updated>
    
    <content type="html"><![CDATA[<h1>ç®€ä»‹</h1><p>æœ¬é¡¹ç›®æ˜¯åŸºäº <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener">Taro</a> + <a href="https://dvajs.com/" target="_blank" rel="noopener">Dva</a> + <a href="https://www.tslang.cn/index.html" target="_blank" rel="noopener">TypeScript</a> å¼€å‘çš„éŸ³ä¹æ’­æ”¾å™¨å°ç¨‹åºï¼Œæ˜¯ä¸ªäººç”¨äºå­¦ä¹ taroæ¡†æ¶å¼€å‘çš„ï¼ŒåŠŸèƒ½ä¹Ÿç›¸å¯¹ç®€å•ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨ä¸€äº›ä¸è¶³ï¼Œå‰æœŸæ˜¯ç”¨taroçš„reduxç‰ˆæœ¬å¼€å‘ï¼Œåé¢å‘ç°ä¸šåŠ¡ä»£ç å’Œé¡µé¢è€¦åˆåº¦é«˜ï¼Œå°±åŠ å…¥äº†dvaï¼Œä¸€ä¸ªåŸºäº <a href="https://github.com/reduxjs/redux" target="_blank" rel="noopener">redux</a> å’Œ <a href="https://github.com/redux-saga/redux-saga" target="_blank" rel="noopener">redux-saga</a> çš„æ•°æ®æµæ–¹æ¡ˆï¼Œè¿™é‡Œåªç”¨äº†dvaçš„ä¸€ä¸ªæ ¸å¿ƒ <a href="https://github.com/dvajs/dva/tree/master/packages/dva-core" target="_blank" rel="noopener">dva-core</a>ï¼Œç”¨äºmodelå±‚æ¥é™ä½è€¦åˆï¼Œç”¨ <a href="https://github.com/dvajs/dva-model-extend" target="_blank" rel="noopener">dva-model-extend</a> å¤ç”¨ modelï¼Œå¤§å¤§æå‡äº†å¼€å‘ä½“éªŒï¼Œæ•ˆæœä¸é”™ã€‚åå°æ˜¯ç½‘æ˜“äº‘éŸ³ä¹<a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/" target="_blank" rel="noopener">NeteaseCloudMusicApi</a> æä¾›çš„APIï¼Œç›®å‰è¯¥é¡¹ç›®è¿˜æ²¡æœ‰æ­£å¼ä¸Šçº¿åˆ°å°ç¨‹åºã€‚</p><a id="more"></a><div align="center"><img src="https://github.com/huangzhuangjia/taro-music/blob/master/src/assets/image/music.gif?raw=true)](https://github.com/huangzhuangjia/taro-music/blob/master/src/assets/image/music.gif?raw=true" alt="gif"></div><h1>Usage</h1><blockquote><p>æœ¬é¡¹ç›®å·²ç»ä½¿ç”¨äº†çº¿ä¸Šapiæ¥å£ï¼Œæ‰€ä»¥æ— éœ€è¿è¡Œåå°ä¹Ÿå¯ä»¥è·å–æ•°æ®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°è¿è¡Œ <a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/" target="_blank" rel="noopener">NeteaseCloudMusicApi</a> é¡¹ç›®ï¼Œå¼€å¯è·å–æ­Œæ›²æœåŠ¡ï¼Œé»˜è®¤ç«¯å£æ˜¯3000</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:Binaryify/NeteaseCloudMusicApi.git</span><br><span class="line">$ <span class="built_in">cd</span> NeteaseCloudMusicApi &amp;&amp; npm install</span><br><span class="line">$ npm start</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿è¡Œæœ¬é¡¹ç›®å‰ï¼Œç¡®ä¿ç³»ç»Ÿå·²ç»å…¨å±€å®‰è£…äº†taroï¼Œ<a href="https://nervjs.github.io/taro/docs/GETTING-STARTED.html" target="_blank" rel="noopener">å®‰è£…å¯è¯¦è§è¿™é‡Œ</a>ï¼Œå®‰è£…å®Œè¿è¡Œé¡¹ç›®åä½¿ç”¨ <a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">å¾®ä¿¡å¼€å‘è€…å·¥å…·</a> å¯¼å…¥é¡¹ç›®ï¼ˆæœ¬é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œå¯¼å…¥ï¼‰ï¼Œå¼€å‘å‰æ³¨æ„äº‹é¡¹å¯æŸ¥çœ‹: <a href="https://nervjs.github.io/taro/docs/before-dev-remind.html" target="_blank" rel="noopener">https://nervjs.github.io/taro/docs/before-dev-remind.html</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git clone</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/huangzhuangjia/taro-music.git</span><br><span class="line"><span class="comment"># install</span></span><br><span class="line">$ npm i</span><br><span class="line"><span class="comment"># or yarn install</span></span><br><span class="line">$ yarn install</span><br><span class="line"><span class="comment"># development</span></span><br><span class="line">$ npm run dev:weapp</span><br><span class="line"><span class="comment"># production</span></span><br><span class="line">$ npm run build:weapp</span><br></pre></td></tr></table></figure><blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/huangzhuangjia/taro-music" target="_blank" rel="noopener">https://github.com/huangzhuangjia/taro-music</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;ç®€ä»‹&lt;/h1&gt;
&lt;p&gt;æœ¬é¡¹ç›®æ˜¯åŸºäº &lt;a href=&quot;https://github.com/NervJS/taro&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Taro&lt;/a&gt; + &lt;a href=&quot;https://dvajs.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Dva&lt;/a&gt; + &lt;a href=&quot;https://www.tslang.cn/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TypeScript&lt;/a&gt; å¼€å‘çš„éŸ³ä¹æ’­æ”¾å™¨å°ç¨‹åºï¼Œæ˜¯ä¸ªäººç”¨äºå­¦ä¹ taroæ¡†æ¶å¼€å‘çš„ï¼ŒåŠŸèƒ½ä¹Ÿç›¸å¯¹ç®€å•ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨ä¸€äº›ä¸è¶³ï¼Œå‰æœŸæ˜¯ç”¨taroçš„reduxç‰ˆæœ¬å¼€å‘ï¼Œåé¢å‘ç°ä¸šåŠ¡ä»£ç å’Œé¡µé¢è€¦åˆåº¦é«˜ï¼Œå°±åŠ å…¥äº†dvaï¼Œä¸€ä¸ªåŸºäº &lt;a href=&quot;https://github.com/reduxjs/redux&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;redux&lt;/a&gt; å’Œ &lt;a href=&quot;https://github.com/redux-saga/redux-saga&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;redux-saga&lt;/a&gt; çš„æ•°æ®æµæ–¹æ¡ˆï¼Œè¿™é‡Œåªç”¨äº†dvaçš„ä¸€ä¸ªæ ¸å¿ƒ &lt;a href=&quot;https://github.com/dvajs/dva/tree/master/packages/dva-core&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;dva-core&lt;/a&gt;ï¼Œç”¨äºmodelå±‚æ¥é™ä½è€¦åˆï¼Œç”¨ &lt;a href=&quot;https://github.com/dvajs/dva-model-extend&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;dva-model-extend&lt;/a&gt; å¤ç”¨ modelï¼Œå¤§å¤§æå‡äº†å¼€å‘ä½“éªŒï¼Œæ•ˆæœä¸é”™ã€‚åå°æ˜¯ç½‘æ˜“äº‘éŸ³ä¹&lt;a href=&quot;https://binaryify.github.io/NeteaseCloudMusicApi/#/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NeteaseCloudMusicApi&lt;/a&gt; æä¾›çš„APIï¼Œç›®å‰è¯¥é¡¹ç›®è¿˜æ²¡æœ‰æ­£å¼ä¸Šçº¿åˆ°å°ç¨‹åºã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="å°ç¨‹åºï¼ŒReact" scheme="https://huangzhuangjia.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%8CReact/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“</title>
    <link href="https://huangzhuangjia.github.io/2018/03/14/performance-optimization/"/>
    <id>https://huangzhuangjia.github.io/2018/03/14/performance-optimization/</id>
    <published>2018-03-14T13:35:47.000Z</published>
    <updated>2019-01-11T09:34:16.992Z</updated>
    
    <content type="html"><![CDATA[<h1>ä¼˜åŒ–çš„åŸåˆ™å’Œæ–¹å‘</h1><p>å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„åŸåˆ™å…¶å®å°±æ˜¯æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå…·ä½“å®ç°çš„ç›®æ ‡å¤§ä½“æœ‰ä¸¤ä¸ªï¼š</p><blockquote><ol><li>åˆç†ä½¿ç”¨å†…å­˜æˆ–ç¼“å­˜ï¼Œå‡å°‘è¯·æ±‚ï¼›</li><li>å‡å°‘CPUæˆ–è€…GPUçš„è®¡ç®—ï¼Œè¾¾åˆ°æ›´å¿«çš„å±•ç°ã€‚</li></ol></blockquote><p>å‰ç«¯åœ¨æ€§èƒ½ä¼˜åŒ–çš„æ–¹å‘å¤§ä½“æœ‰ä¸¤ä¸ªï¼š</p><blockquote><ol><li>å‡å°‘é¡µé¢ä½“ç§¯ï¼Œæå‡ç½‘ç»œåŠ è½½</li><li>ä¼˜åŒ–é¡µé¢æ¸²æŸ“</li></ol></blockquote><a id="more"></a><h1>è¯¦æƒ…</h1><h2 id="å‡å°‘é¡µé¢ä½“ç§¯-æå‡ç½‘ç»œåŠ è½½"><a class="header-anchor" href="#å‡å°‘é¡µé¢ä½“ç§¯-æå‡ç½‘ç»œåŠ è½½"></a>å‡å°‘é¡µé¢ä½“ç§¯ï¼Œæå‡ç½‘ç»œåŠ è½½</h2><p>1ã€é™æ€èµ„æºçš„å‹ç¼©åˆå¹¶ï¼ˆJS ä»£ç å‹ç¼©åˆå¹¶ã€CSS ä»£ç å‹ç¼©åˆå¹¶ã€é›ªç¢§å›¾ï¼‰</p><blockquote><ol><li>å‹ç¼©æ˜¯ä¸ºäº†å‡å°æ–‡ä»¶ä½“ç§¯ï¼Œå‡è½»ç½‘ç»œè´Ÿè½½ï¼Œè¾¾åˆ°æ›´å¿«çš„ä¸‹è½½ï¼›</li><li>åˆå¹¶å’Œé›ªç¢§å›¾éƒ½æ˜¯ä¸ºäº†å‡å°‘æ–‡ä»¶çš„è¯·æ±‚æ¬¡æ•°ï¼Œä½†ä¸æ˜¯åˆå¹¶çš„å°±ä¸€ä¸ªæ¯”æ²¡æœ‰åˆå¹¶æ—¶åŠ è½½å¿«ï¼Œè¦çœ‹åˆå¹¶ä¹‹åçš„ä½“ç§¯ï¼Œè‹¥æ–‡ä»¶åˆå¹¶åå¤ªå¤§äº†ä¹Ÿä¸å¤ªåˆ©äºæ€§èƒ½ä¼˜åŒ–ï¼Œæ‰€ä»¥åœ¨å®é™…çš„é¡¹ç›®ä¸­è¦åšå¥½æƒè¡¡ã€‚</li></ol></blockquote><p>2ã€é™æ€èµ„æºç¼“å­˜ï¼ˆèµ„æºåç§°åŠ  MD5 æˆ³ï¼‰</p><blockquote><p>å¯ä»¥é€šè¿‡é“¾æ¥åç§°æ§åˆ¶ç¼“å­˜ï¼šé€šè¿‡å‰ç«¯æ„å»ºå·¥å…·ä¸ºæ‰“åŒ…çš„æ–‡ä»¶æ·»åŠ md5åç¼€ï¼Œè¿™æ ·å½“æ‰“åŒ…ä¸Šçº¿æ—¶è¯·æ±‚çš„é“¾æ¥å‘ç”Ÿæ”¹å˜ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ç”±äºç¼“å¯¼è‡´é™æ€èµ„æºæ›´æ–°å¤±æ•ˆï¼›</p></blockquote><p>3ã€ ä½¿ç”¨ CDN è®©èµ„æºåŠ è½½æ›´å¿«</p><h2 id="ä¼˜åŒ–é¡µé¢æ¸²æŸ“"><a class="header-anchor" href="#ä¼˜åŒ–é¡µé¢æ¸²æŸ“"></a>ä¼˜åŒ–é¡µé¢æ¸²æŸ“</h2><p>1ã€CSS æ”¾å‰é¢ï¼ŒJS æ”¾åé¢</p><blockquote><ol><li>æµè§ˆå™¨åœ¨æ¸²æŸ“è§£æè¿‡ç¨‹ä¸­ï¼Œè‹¥é‡åˆ°<code>&lt;link href=&quot;...&quot;&gt;</code>å’Œ<code>&lt;script src=&quot;...&quot;&gt;</code>è¿™ç§å¤–é“¾åŠ è½½ CSS å’Œ JS çš„æ ‡ç­¾ï¼Œæµè§ˆå™¨ä¼šå¼‚æ­¥ä¸‹è½½å¹¶è§£ææ‰§è¡Œã€‚CSSæ”¾åœ¨å¤´éƒ¨æ˜¯ä¸ºäº†è®©æµè§ˆå™¨å°½æ—©è§£ææ‰§è¡ŒCssæ–‡ä»¶ï¼Œæ¸²æŸ“å‡ºé¡µé¢çš„æ ·å¼ï¼Œè‹¥æ”¾åœ¨åº•éƒ¨ä¼šå‡ºç°æ¸²æŸ“å¡é¡¿çš„æƒ…å†µï¼Œå½±å“æ€§èƒ½å’Œä½“éªŒã€‚</li><li>è€Œå½“æ¸²æŸ“è¿‡ç¨‹ä¸­é‡åˆ°scriptæ ‡ç­¾æ—¶å°±ä¼šæ‰§è¡ŒJSä»£ç ï¼Œä»é˜»å¡é¡µé¢æ¸²æŸ“ï¼Œå› ä¸ºæµè§ˆå™¨æ¸²æŸ“å’Œ JS æ‰§è¡Œå…±ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œä¸”è¿™é‡Œå¿…é¡»æ˜¯å•çº¿ç¨‹æ“ä½œï¼Œå¤šçº¿ç¨‹ä¼šäº§ç”Ÿæ¸²æŸ“ DOM å†²çªã€‚æ‰€ä»¥è¦å°†JSæ”¾åœ¨åº•éƒ¨ï¼Œç­‰åˆ°é¡µé¢æ¸²æŸ“å®Œæˆä¹‹åå†å»è§£ææ‰§è¡Œjsï¼Œä¿è¯ç”¨æˆ·ä½“éªŒæ€§ã€‚å› ä¸ºæµè§ˆå™¨æ¸²æŸ“å’Œ JS æ‰§è¡Œå…±ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œä¸”è¿™é‡Œå¿…é¡»æ˜¯å•çº¿ç¨‹æ“ä½œï¼Œå¤šçº¿ç¨‹ä¼šäº§ç”Ÿæ¸²æŸ“ DOM å†²çªã€‚</li><li>å¦å¤–ï¼ŒJS æ‰§è¡Œå¦‚æœæ¶‰åŠ DOM æ“ä½œï¼Œå¾—ç­‰å¾… DOM è§£æå®Œæˆæ‰è¡Œï¼ŒJS æ”¾åœ¨åº•éƒ¨æ‰§è¡Œæ—¶ï¼ŒHTML è‚¯å®šéƒ½è§£ææˆäº† DOM ç»“æ„ã€‚JS å¦‚æœæ”¾åœ¨ HTML é¡¶éƒ¨ï¼ŒJS æ‰§è¡Œçš„æ—¶å€™ HTML è¿˜æ²¡æ¥å¾—åŠè½¬æ¢ä¸º DOM ç»“æ„ï¼Œå¯èƒ½ä¼šæŠ¥é”™ã€‚</li></ol></blockquote><p>2ã€æ‡’åŠ è½½ï¼ˆå›¾ç‰‡æ‡’åŠ è½½ã€ä¸‹æ‹‰åŠ è½½æ›´å¤šï¼‰</p><blockquote><p>å…ˆå°†srcèµ‹å€¼æˆä¸€ä¸ªé€šç”¨çš„é¢„è§ˆå›¾ï¼Œä¸‹æ‹‰æ—¶å€™å†åŠ¨æ€èµ‹å€¼æˆæ­£å¼çš„å›¾ç‰‡ã€‚å¦‚ä¸‹ï¼Œpreview.pngæ˜¯é¢„è§ˆå›¾ç‰‡ï¼Œæ¯”è¾ƒå°ï¼ŒåŠ è½½å¾ˆå¿«ï¼Œè€Œä¸”å¾ˆå¤šå›¾ç‰‡éƒ½å…±ç”¨è¿™ä¸ªpreview.pngï¼ŒåŠ è½½ä¸€æ¬¡å³å¯ã€‚å¾…é¡µé¢ä¸‹æ‹‰ï¼Œå›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥æ—¶ï¼Œå†å»æ›¿æ¢srcä¸ºdata-srcçš„å€¼ã€‚ï¼ˆdata-å¼€å¤´çš„å±æ€§æµè§ˆå™¨æ¸²æŸ“çš„æ—¶å€™ä¼šå¿½ç•¥æ‰ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ï¼‰</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"preview.png"</span> data-src=<span class="string">"realImg.png"</span>/&gt;</span><br></pre></td></tr></table></figure><p>3ã€å‡å°‘DOM æŸ¥è¯¢ï¼Œå¯¹ DOM æŸ¥è¯¢åšç¼“å­˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªæŸ¥è¯¢ä¸€ä¸ª DOM ï¼Œç¼“å­˜åœ¨ pList ä¸­äº†</span></span><br><span class="line"><span class="keyword">var</span> pList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>)  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; pList.length; i++) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¯æ¬¡å¾ªç¯ï¼Œéƒ½ä¼šæŸ¥è¯¢ DOM ï¼Œè€—è´¹æ€§èƒ½</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>).length; i++) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€å‡å°‘DOM æ“ä½œï¼Œå¤šä¸ªæ“ä½œå°½é‡åˆå¹¶åœ¨ä¸€èµ·æ‰§è¡Œï¼ˆDocumentFragmentï¼‰</p><blockquote><p>DOM æ“ä½œæ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œå› æ­¤æ’å…¥å¤šä¸ªæ ‡ç­¾æ—¶ï¼Œå…ˆæ’å…¥ Fragment ç„¶åå†ç»Ÿä¸€æ’å…¥ DOMã€‚å› ä¸ºFragmentæ–‡æ¡£ç‰‡æ®µå­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¹¶ä¸åœ¨DOMæ ‘ä¸­ï¼Œæ‰€ä»¥å°†å­å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ç‰‡æ®µæ—¶ä¸ä¼šå¼•èµ·é¡µé¢å›æµã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> listNode = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>)</span><br><span class="line"><span class="comment">// è¦æ’å…¥ 10 ä¸ª li æ ‡ç­¾</span></span><br><span class="line"><span class="keyword">var</span> frag = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line"><span class="keyword">var</span> i, li;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    li.innerHTML = <span class="string">"List item "</span> + i;</span><br><span class="line">    frag.appendChild(li);  <span class="comment">//å…ˆæ”¾åœ¨ frag ä¸­ï¼Œæœ€åä¸€æ¬¡æ€§æ’å…¥åˆ° DOM ç»“æ„ä¸­ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line">listNode.appendChild(frag);</span><br></pre></td></tr></table></figure><p>5ã€äº‹ä»¶èŠ‚æµ</p><blockquote><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°é¡µé¢ä¸€äº›é¢‘ç¹è§¦å‘çš„äº‹ä»¶ï¼Œæ¯”å¦‚mouseoverã€scrollã€resizeç­‰äº‹ä»¶ã€‚ä¸€ç§’å¯ä»¥æ‰§è¡Œå¾ˆå¤šæ¬¡ï¼Œè¿™æ ·ä¼šé€ æˆä¸¥é‡çš„é¡µé¢æ€§èƒ½é—®é¢˜ï¼Œå¯¼è‡´é¡µé¢cå‡ºç°å¡é¡¿ç”šè‡³æµè§ˆå™¨å´©æºƒã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å¯¹äº‹ä»¶è¿›è¡ŒèŠ‚æµï¼Œç®€å•çš„è¯´å°±æ˜¯æ§åˆ¶å…¶æ‰§è¡Œçš„æ¬¡æ•°ã€‚è¿™é‡Œå°±æ¶‰åŠåˆ°äº†å¸¸ç”¨åˆ°çš„jsçš„èŠ‚æµå’Œé˜²æŠ–åŠŸèƒ½å®ç°ã€‚<br>1ã€ é˜²æŠ–ï¼ˆdebounceï¼‰ï¼šåœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å®šæ—¶å™¨ï¼Œç”¨æ¥ setTimeout</span></span><br><span class="line">    <span class="keyword">var</span> timer</span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨ä¸€ä¸ªæ—¶é—´åŒºé—´ç»“æŸåçš„ delay æ¯«ç§’æ—¶æ‰§è¡Œ fn å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ä¿å­˜å‡½æ•°è°ƒç”¨æ—¶çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°ï¼Œä¼ é€’ç»™ fn</span></span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">var</span> args = <span class="built_in">arguments</span></span><br><span class="line">        <span class="comment">// æ¯æ¬¡è¿™ä¸ªè¿”å›çš„å‡½æ•°è¢«è°ƒç”¨ï¼Œå°±æ¸…é™¤å®šæ—¶å™¨ï¼Œä»¥ä¿è¯ä¸æ‰§è¡Œ fn</span></span><br><span class="line">        timer &amp;&amp; clearTimeout(timer)</span><br><span class="line">        <span class="comment">// å½“è¿”å›çš„å‡½æ•°è¢«æœ€åä¸€æ¬¡è°ƒç”¨åï¼ˆä¹Ÿå°±æ˜¯ç”¨æˆ·åœæ­¢äº†æŸä¸ªè¿ç»­çš„æ“ä½œï¼‰ï¼Œ</span></span><br><span class="line">        <span class="comment">// å†è¿‡ delay æ¯«ç§’å°±æ‰§è¡Œ fn</span></span><br><span class="line">        timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            fn.apply(context, args)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2ã€èŠ‚æµï¼ˆthrottleï¼‰ï¼šè§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, threshhold</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è®°å½•ä¸Šæ¬¡æ‰§è¡Œçš„æ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> last</span><br><span class="line">    <span class="comment">// å®šæ—¶å™¨</span></span><br><span class="line">    <span class="keyword">var</span> timer</span><br><span class="line">    <span class="comment">// é»˜è®¤é—´éš”ä¸º 250ms</span></span><br><span class="line">    threshhold || (threshhold = <span class="number">250</span>)</span><br><span class="line">    <span class="comment">// è¿”å›çš„å‡½æ•°ï¼Œæ¯è¿‡ threshhold æ¯«ç§’å°±æ‰§è¡Œä¸€æ¬¡ fn å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ä¿å­˜å‡½æ•°è°ƒç”¨æ—¶çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°ï¼Œä¼ é€’ç»™ fn</span></span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">var</span> args = <span class="built_in">arguments</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> now = +<span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">        <span class="comment">// å¦‚æœè·ç¦»ä¸Šæ¬¡æ‰§è¡Œ fn å‡½æ•°çš„æ—¶é—´å°äº threshholdï¼Œé‚£ä¹ˆå°±æ”¾å¼ƒ</span></span><br><span class="line">        <span class="comment">// æ‰§è¡Œ fnï¼Œå¹¶é‡æ–°è®¡æ—¶</span></span><br><span class="line">        <span class="keyword">if</span> (last &amp;&amp; now &lt; last + threshhold) &#123;</span><br><span class="line">            timer &amp;&amp; clearTimeout(timer)</span><br><span class="line">            <span class="comment">// ä¿è¯åœ¨å½“å‰æ—¶é—´åŒºé—´ç»“æŸåï¼Œå†æ‰§è¡Œä¸€æ¬¡ fn</span></span><br><span class="line">            timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                last = now</span><br><span class="line">                fn.apply(context, args)</span><br><span class="line">            &#125;, threshhold)</span><br><span class="line">        <span class="comment">// åœ¨æ—¶é—´åŒºé—´çš„æœ€å¼€å§‹å’Œåˆ°è¾¾æŒ‡å®šé—´éš”çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ fn</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            last = now</span><br><span class="line">            fn.apply(context, args)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6ã€å°½æ—©æ‰§è¡Œæ“ä½œï¼ˆDOMContentLoadedï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢çš„å…¨éƒ¨èµ„æºåŠ è½½å®Œæ‰ä¼šæ‰§è¡Œï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ç­‰</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM æ¸²æŸ“å®Œå³å¯æ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡ã€è§†é¢‘è¿˜å¯èƒ½æ²¡æœ‰åŠ è½½å®Œ</span></span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="built_in">document</span>).ready(&#123;<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åŒDOMContentLoaded</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>7ã€ä½¿ç”¨ <strong>é¢„æ¸²æŸ“</strong> æˆ–è€… <strong>SSRåç«¯æ¸²æŸ“</strong>ï¼Œæ•°æ®ç›´æ¥è¾“å‡ºåˆ° HTML ä¸­ï¼Œå‡å°‘æµè§ˆå™¨ä½¿ç”¨ JS æ¨¡æ¿æ¸²æŸ“é¡µé¢ HTML çš„æ—¶é—´ (å¦‚Vue SSR)ï¼ŒåŒæ—¶ä¹Ÿæœ‰åˆ©äºç½‘ç«™çš„SEOã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;ä¼˜åŒ–çš„åŸåˆ™å’Œæ–¹å‘&lt;/h1&gt;
&lt;p&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„åŸåˆ™å…¶å®å°±æ˜¯æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå…·ä½“å®ç°çš„ç›®æ ‡å¤§ä½“æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åˆç†ä½¿ç”¨å†…å­˜æˆ–ç¼“å­˜ï¼Œå‡å°‘è¯·æ±‚ï¼›&lt;/li&gt;
&lt;li&gt;å‡å°‘CPUæˆ–è€…GPUçš„è®¡ç®—ï¼Œè¾¾åˆ°æ›´å¿«çš„å±•ç°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‰ç«¯åœ¨æ€§èƒ½ä¼˜åŒ–çš„æ–¹å‘å¤§ä½“æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å‡å°‘é¡µé¢ä½“ç§¯ï¼Œæå‡ç½‘ç»œåŠ è½½&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–é¡µé¢æ¸²æŸ“&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://huangzhuangjia.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥ç†è§£Vueå“åº”å¼åŸç†</title>
    <link href="https://huangzhuangjia.github.io/2018/02/07/About-responsive-of-Vue/"/>
    <id>https://huangzhuangjia.github.io/2018/02/07/About-responsive-of-Vue/</id>
    <published>2018-02-07T14:44:06.000Z</published>
    <updated>2019-01-11T09:14:15.544Z</updated>
    
    <content type="html"><![CDATA[<h1>åˆæ­¥</h1><p>æœ€è¿‘ä¸€æ®µæ—¶é—´åœ¨é˜…è¯»Vueæºç ï¼Œä»å®ƒçš„æ ¸å¿ƒåŸç†å…¥æ‰‹ï¼Œå¼€å§‹äº†æºç çš„å­¦ä¹ ï¼Œè€Œå…¶æ ¸å¿ƒåŸç†å°±æ˜¯å…¶æ•°æ®çš„å“åº”å¼ï¼Œè®²åˆ°Vueçš„å“åº”å¼åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥ä»å®ƒçš„å…¼å®¹æ€§è¯´èµ·ï¼ŒVueä¸æ”¯æŒIE8ä»¥ä¸‹ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œå› ä¸ºVueæ˜¯åŸºäº <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty</a> æ¥å®ç°æ•°æ®å“åº”çš„ï¼Œè€Œ Object.defineProperty æ˜¯ ES5 ä¸­ä¸€ä¸ªæ— æ³• shim çš„ç‰¹æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ Vue ä¸æ”¯æŒ IE8 ä»¥åŠæ›´ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŸå› ï¼›Vueé€šè¿‡Object.definePropertyçš„ <strong>getter/setter</strong> å¯¹æ”¶é›†çš„ä¾èµ–é¡¹è¿›è¡Œç›‘å¬,åœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–,è¿›è€Œæ›´æ–°è§†å›¾æ•°æ®ï¼›</p><p>å—ç°ä»£JavaScript çš„é™åˆ¶ (ä»¥åŠåºŸå¼ƒ <strong>Object.observe</strong>)ï¼ŒVueä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ <strong>getter/setter</strong> è½¬åŒ–è¿‡ç¨‹ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ <strong>data</strong> å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®©Vueè½¬æ¢å®ƒï¼Œè¿™æ ·æ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚</p><a id="more"></a><p><img src="https://cn.vuejs.org/images/data.png" alt="vueå“åº”å¼"></p><p>æˆ‘ä»¬è¿™é‡Œæ˜¯æ ¹æ®Vue2.3æºç è¿›è¡Œåˆ†æ,Vueæ•°æ®å“åº”å¼å˜åŒ–ä¸»è¦æ¶‰åŠ <strong>Observer</strong>, <strong>Watcher</strong> , <strong>Dep</strong> è¿™ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼›å› æ­¤è¦å¼„æ¸…Vueå“åº”å¼å˜åŒ–éœ€è¦æ˜ç™½è¿™ä¸ªä¸‰ä¸ªç±»ä¹‹é—´æ˜¯å¦‚ä½•è¿ä½œè”ç³»çš„ï¼›ä»¥åŠå®ƒä»¬çš„åŸç†ï¼Œè´Ÿè´£çš„é€»è¾‘æ“ä½œã€‚é‚£ä¹ˆæˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„Vueå®ä¾‹çš„ä»£ç æ¥åˆ†æVueçš„å“åº”å¼åŸç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        name: <span class="string">'Junga'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    created () &#123;</span><br><span class="line">        <span class="keyword">this</span>.helloWorld()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        helloWorld: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'my name is'</span> + <span class="keyword">this</span>.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1>Vueåˆå§‹åŒ–å®ä¾‹</h1><p>æ ¹æ®Vueçš„<a href="https://cn.vuejs.org/v2/guide/instance.html#%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90" target="_blank" rel="noopener">ç”Ÿå‘½å‘¨æœŸ</a>æˆ‘ä»¬çŸ¥é“ï¼ŒVueé¦–å…ˆä¼šè¿›è¡Œinitåˆå§‹åŒ–æ“ä½œï¼›æºç åœ¨<a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/instance/init.js" target="_blank" rel="noopener">src/core/instance/init.js</a>ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸ*/</span></span><br><span class="line">initLifecycle(vm)</span><br><span class="line"><span class="comment">/*åˆå§‹åŒ–äº‹ä»¶*/</span></span><br><span class="line">initEvents(vm)<span class="built_in">Object</span>.defineProperty </span><br><span class="line"><span class="comment">/*åˆå§‹åŒ–render*/</span></span><br><span class="line">initRender(vm)</span><br><span class="line"><span class="comment">/*è°ƒç”¨beforeCreateé’©å­å‡½æ•°å¹¶ä¸”è§¦å‘beforeCreateé’©å­äº‹ä»¶*/</span></span><br><span class="line">callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">initInjections(vm) <span class="comment">// resolve injections before data/props</span></span><br><span class="line"><span class="comment">/*åˆå§‹åŒ–propsã€methodsã€dataã€computedä¸watch*/</span></span><br><span class="line">initState(vm)</span><br><span class="line">initProvide(vm) <span class="comment">// resolve provide after data/props</span></span><br><span class="line"><span class="comment">/*è°ƒç”¨createdé’©å­å‡½æ•°å¹¶ä¸”è§¦å‘createdé’©å­äº‹ä»¶*/</span></span><br><span class="line">callHook(vm, <span class="string">'created'</span>)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å¯ä»¥çœ‹åˆ° <strong>initState(vm)</strong> æ˜¯ç”¨æ¥åˆå§‹åŒ–props,methods,data,computedå’Œwatch;</p><p><a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/instance/state.js" target="_blank" rel="noopener">src/core/instance/state.js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åˆå§‹åŒ–propsã€methodsã€dataã€computedä¸watch*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">initState</span> (<span class="params">vm: Component</span>) </span>&#123;</span><br><span class="line">  vm._watchers = []</span><br><span class="line">  <span class="keyword">const</span> opts = vm.$options</span><br><span class="line">  <span class="comment">/*åˆå§‹åŒ–props*/</span></span><br><span class="line">  <span class="keyword">if</span> (opts.props) initProps(vm, opts.props)</span><br><span class="line">  <span class="comment">/*åˆå§‹åŒ–æ–¹æ³•*/</span></span><br><span class="line">  <span class="keyword">if</span> (opts.methods) initMethods(vm, opts.methods)</span><br><span class="line">  <span class="comment">/*åˆå§‹åŒ–data*/</span></span><br><span class="line">  <span class="keyword">if</span> (opts.data) &#123;</span><br><span class="line">    initData(vm)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/*è¯¥ç»„ä»¶æ²¡æœ‰dataçš„æ—¶å€™ç»‘å®šä¸€ä¸ªç©ºå¯¹è±¡*/</span></span><br><span class="line">    observe(vm._data = &#123;&#125;, <span class="literal">true</span> <span class="comment">/* asRootData */</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/*åˆå§‹åŒ–computed*/</span></span><br><span class="line">  <span class="keyword">if</span> (opts.computed) initComputed(vm, opts.computed)</span><br><span class="line">  <span class="comment">/*åˆå§‹åŒ–watchers*/</span></span><br><span class="line">  <span class="keyword">if</span> (opts.watch) initWatch(vm, opts.watch)</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">/*åˆå§‹åŒ–data*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initData</span> (<span class="params">vm: Component</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*å¾—åˆ°dataæ•°æ®*/</span></span><br><span class="line">  <span class="keyword">let</span> data = vm.$options.data</span><br><span class="line">  data = vm._data = <span class="keyword">typeof</span> data === <span class="string">'function'</span></span><br><span class="line">    ? getData(data, vm)</span><br><span class="line">    : data || &#123;&#125;defi</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">//éå†dataä¸­çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">while</span> (i--) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*ä¿è¯dataä¸­çš„keyä¸ä¸propsä¸­çš„keyé‡å¤ï¼Œpropsä¼˜å…ˆï¼Œå¦‚æœæœ‰å†²çªä¼šäº§ç”Ÿwarning*/</span></span><br><span class="line">    <span class="keyword">if</span> (props &amp;&amp; hasOwn(props, keys[i])) &#123;</span><br><span class="line">      process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; warn(</span><br><span class="line">        <span class="string">`The data property "<span class="subst">$&#123;keys[i]&#125;</span>" is already declared as a prop. `</span> +</span><br><span class="line">        <span class="string">`Use prop default value instead.`</span>,</span><br><span class="line">        vm</span><br><span class="line">      )</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!isReserved(keys[i])) &#123;</span><br><span class="line">      <span class="comment">/*åˆ¤æ–­æ˜¯å¦æ˜¯ä¿ç•™å­—æ®µ*/</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">/*è¿™é‡Œæ˜¯æˆ‘ä»¬å‰é¢è®²è¿‡çš„ä»£ç†ï¼Œå°†dataä¸Šé¢çš„å±æ€§ä»£ç†åˆ°äº†vmå®ä¾‹ä¸Š*/</span></span><br><span class="line">      proxy(vm, <span class="string">`_data`</span>, keys[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// observe data</span></span><br><span class="line">  <span class="comment">/*è¿™é‡Œé€šè¿‡observeå®ä¾‹åŒ–Observeå¯¹è±¡ï¼Œå¼€å§‹å¯¹æ•°æ®è¿›è¡Œç»‘å®šï¼ŒasRootDataç”¨æ¥æ ¹æ•°æ®ï¼Œç”¨æ¥è®¡ç®—å®ä¾‹åŒ–æ ¹æ•°æ®çš„ä¸ªæ•°ï¼Œä¸‹é¢ä¼šè¿›è¡Œé€’å½’observeè¿›è¡Œå¯¹æ·±å±‚å¯¹è±¡çš„ç»‘å®šã€‚åˆ™asRootDataä¸ºétrue*/</span></span><br><span class="line">  observe(data, <span class="literal">true</span> <span class="comment">/* asRootData */</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-initdata"><a class="header-anchor" href="#1-initdata"></a>1ã€initData</h2><p>ç°åœ¨æˆ‘ä»¬é‡ç‚¹åˆ†æä¸‹<strong>initData</strong>ï¼Œè¿™é‡Œä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼Œä¸€æ˜¯å°†_dataä¸Šé¢çš„æ•°æ®ä»£ç†åˆ°vmä¸Šï¼ŒäºŒæ˜¯é€šè¿‡æ‰§è¡Œ *<em>observe(data, true /</em> asRootData */)**å°†æ‰€æœ‰dataå˜æˆå¯è§‚å¯Ÿçš„ï¼Œå³å¯¹dataå®šä¹‰çš„æ¯ä¸ªå±æ€§è¿›è¡Œgetter/setteræ“ä½œï¼Œè¿™é‡Œå°±æ˜¯Vueå®ç°å“åº”å¼çš„åŸºç¡€ï¼›<strong>observe</strong>çš„å®ç°å¦‚ä¸‹ <a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/observer/index.js" target="_blank" rel="noopener">src/core/observer/index.js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/*å°è¯•åˆ›å»ºä¸€ä¸ªObserverå®ä¾‹ï¼ˆ__ob__ï¼‰ï¼Œå¦‚æœæˆåŠŸåˆ›å»ºObserverå®ä¾‹åˆ™è¿”å›æ–°çš„Observerå®ä¾‹ï¼Œå¦‚æœå·²æœ‰Observerå®ä¾‹åˆ™è¿”å›ç°æœ‰çš„Observerå®ä¾‹ã€‚*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">observe</span> (<span class="params">value: any, asRootData: ?boolean</span>): <span class="title">Observer</span> | <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isObject(value)) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> ob: Observer | <span class="keyword">void</span></span><br><span class="line">  <span class="comment">/*è¿™é‡Œç”¨__ob__è¿™ä¸ªå±æ€§æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰Observerå®ä¾‹ï¼Œå¦‚æœæ²¡æœ‰Observerå®ä¾‹åˆ™ä¼šæ–°å»ºä¸€ä¸ªObserverå®ä¾‹å¹¶èµ‹å€¼ç»™__ob__è¿™ä¸ªå±æ€§ï¼Œå¦‚æœå·²æœ‰Observerå®ä¾‹åˆ™ç›´æ¥è¿”å›è¯¥Observerå®ä¾‹ï¼Œè¿™é‡Œå¯ä»¥çœ‹Observerå®ä¾‹åŒ–çš„ä»£ç def(value, '__ob__', this)*/</span></span><br><span class="line">  <span class="keyword">if</span> (hasOwn(value, <span class="string">'__ob__'</span>) &amp;&amp; value.__ob__ <span class="keyword">instanceof</span> Observer) &#123;</span><br><span class="line">    ob = value.__ob__</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    <span class="comment">/*è¿™é‡Œçš„åˆ¤æ–­æ˜¯ä¸ºäº†ç¡®ä¿valueæ˜¯å•çº¯çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°æˆ–è€…æ˜¯Regexpç­‰æƒ…å†µã€‚è€Œä¸”è¯¥å¯¹è±¡åœ¨shouldConvertçš„æ—¶å€™æ‰ä¼šè¿›è¡ŒObserverã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡è¯†ä½ï¼Œé¿å…é‡å¤å¯¹valueè¿›è¡ŒObserver</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    observerState.shouldConvert &amp;&amp;</span><br><span class="line">    !isServerRendering() &amp;&amp;</span><br><span class="line">    (<span class="built_in">Array</span>.isArray(value) || isPlainObject(value)) &amp;&amp;</span><br><span class="line">    <span class="built_in">Object</span>.isExtensible(value) &amp;&amp;</span><br><span class="line">    !value._isVue</span><br><span class="line">  ) &#123;</span><br><span class="line">    ob = <span class="keyword">new</span> Observer(value)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (asRootData &amp;&amp; ob) &#123;</span><br><span class="line">     <span class="comment">/*å¦‚æœæ˜¯æ ¹æ•°æ®åˆ™è®¡æ•°ï¼Œåé¢Observerä¸­çš„observeçš„asRootDataétrue*/</span></span><br><span class="line">    ob.vmCount++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ob</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <strong>new Observer(value)</strong> å°±æ˜¯å®ç°å“åº”å¼çš„æ ¸å¿ƒæ–¹æ³•ä¹‹ä¸€äº†ï¼Œé€šè¿‡å®ƒå°†dataè½¬å˜å¯ä»¥æˆè§‚å¯Ÿçš„ï¼Œè€Œè¿™é‡Œæ­£æ˜¯æˆ‘ä»¬å¼€å¤´è¯´çš„ï¼Œç”¨äº† <strong>Object.defineProperty</strong> å®ç°äº†dataçš„ <strong>getter/setter</strong> æ“ä½œï¼Œé€šè¿‡ <strong>Watcher</strong> æ¥è§‚å¯Ÿæ•°æ®çš„å˜åŒ–ï¼Œè¿›è€Œæ›´æ–°åˆ°è§†å›¾ä¸­ã€‚</p><h2 id="2-observer"><a class="header-anchor" href="#2-observer"></a>2ã€Observer</h2><p>Observerç±»æ˜¯å°†æ¯ä¸ªç›®æ ‡å¯¹è±¡ï¼ˆå³dataï¼‰çš„é”®å€¼è½¬æ¢æˆgetter/setterå½¢å¼ï¼Œç”¨äºè¿›è¡Œä¾èµ–æ”¶é›†ä»¥åŠè°ƒåº¦æ›´æ–°ã€‚</p><p><a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/observer/index.js" target="_blank" rel="noopener">src/core/observer/index.js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">  value: any;</span><br><span class="line">  dep: Dep;</span><br><span class="line">  vmCount: number; <span class="comment">// number of vms that has this object as root $data</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span> (value: any) &#123;</span><br><span class="line">    <span class="keyword">this</span>.value = value</span><br><span class="line">    <span class="keyword">this</span>.dep = <span class="keyword">new</span> Dep()</span><br><span class="line">    <span class="keyword">this</span>.vmCount = <span class="number">0</span></span><br><span class="line">    <span class="comment">/* å°†Observerå®ä¾‹ç»‘å®šåˆ°dataçš„__ob__å±æ€§ä¸Šé¢å»ï¼Œä¹‹å‰è¯´è¿‡observeçš„æ—¶å€™ä¼šå…ˆæ£€æµ‹æ˜¯å¦å·²ç»æœ‰__ob__å¯¹è±¡å­˜æ”¾Observerå®ä¾‹äº†ï¼Œdefæ–¹æ³•å®šä¹‰å¯ä»¥å‚è€ƒ/src/core/util/lang.js*/</span></span><br><span class="line">    def(value, <span class="string">'__ob__'</span>, <span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">      <span class="comment">/*å¦‚æœæ˜¯æ•°ç»„ï¼Œå°†ä¿®æ”¹åå¯ä»¥æˆªè·å“åº”çš„æ•°ç»„æ–¹æ³•æ›¿æ¢æ‰è¯¥æ•°ç»„çš„åŸå‹ä¸­çš„åŸç”Ÿæ–¹æ³•ï¼Œè¾¾åˆ°ç›‘å¬æ•°ç»„æ•°æ®å˜åŒ–å“åº”çš„æ•ˆæœã€‚è¿™é‡Œå¦‚æœå½“å‰æµè§ˆå™¨æ”¯æŒ__proto__å±æ€§ï¼Œåˆ™ç›´æ¥è¦†ç›–å½“å‰æ•°ç»„å¯¹è±¡åŸå‹ä¸Šçš„åŸç”Ÿæ•°ç»„æ–¹æ³•ï¼Œå¦‚æœä¸æ”¯æŒè¯¥å±æ€§ï¼Œåˆ™ç›´æ¥è¦†ç›–æ•°ç»„å¯¹è±¡çš„åŸå‹ã€‚*/</span></span><br><span class="line">      <span class="keyword">const</span> augment = hasProto</span><br><span class="line">        ? protoAugment  <span class="comment">/*ç›´æ¥è¦†ç›–åŸå‹çš„æ–¹æ³•æ¥ä¿®æ”¹ç›®æ ‡å¯¹è±¡*/</span></span><br><span class="line">        : copyAugment   <span class="comment">/*å®šä¹‰ï¼ˆè¦†ç›–ï¼‰ç›®æ ‡å¯¹è±¡æˆ–æ•°ç»„çš„æŸä¸€ä¸ªæ–¹æ³•*/</span></span><br><span class="line">      augment(value, arrayMethods, arrayKeys)</span><br><span class="line"></span><br><span class="line">      <span class="comment">/*å¦‚æœæ˜¯æ•°ç»„åˆ™éœ€è¦éå†æ•°ç»„çš„æ¯ä¸€ä¸ªæˆå‘˜è¿›è¡Œobserve*/</span></span><br><span class="line">      <span class="keyword">this</span>.observeArray(value)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">/*å¦‚æœæ˜¯å¯¹è±¡åˆ™ç›´æ¥walkè¿›è¡Œç»‘å®š*/</span></span><br><span class="line">      <span class="keyword">this</span>.walk(value)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    walk (obj: <span class="built_in">Object</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(obj)</span><br><span class="line">      <span class="comment">/*walkæ–¹æ³•ä¼šéå†å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§è¿›è¡ŒdefineReactiveç»‘å®š*/</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">        defineReactive(obj, keys[i], obj[keys[i]])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ol><li>é¦–å…ˆå°†Observerå®ä¾‹ç»‘å®šåˆ°dataçš„__ob__å±æ€§ä¸Šé¢å»ï¼Œé˜²æ­¢é‡å¤ç»‘å®šï¼›</li><li>è‹¥dataä¸ºæ•°ç»„ï¼Œå…ˆå®ç°å¯¹åº”çš„<a href="https://cn.vuejs.org/v2/guide/list.html#%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95" target="_blank" rel="noopener">å˜å¼‚æ–¹æ³•</a>ï¼ˆè¿™é‡Œå˜å¼‚æ–¹æ³•æ˜¯æŒ‡Vueé‡å†™äº†æ•°ç»„çš„7ç§åŸç”Ÿæ–¹æ³•ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ï¼Œåç»­å†è¯´æ˜ï¼‰ï¼Œå†å°†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜è¿›è¡Œobserveï¼Œä½¿ä¹‹æˆå“åº”å¼æ•°æ®ï¼›</li><li>å¦åˆ™æ‰§è¡Œwalk()æ–¹æ³•ï¼Œéå†dataæ‰€æœ‰çš„æ•°æ®ï¼Œè¿›è¡Œgetter/setterç»‘å®šï¼Œè¿™é‡Œçš„æ ¸å¿ƒæ–¹æ³•å°±æ˜¯ <strong>defineReative(obj, keys[i], obj[keys[i]])</strong></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  obj: Object,</span></span></span><br><span class="line"><span class="function"><span class="params">  key: string,</span></span></span><br><span class="line"><span class="function"><span class="params">  val: any,</span></span></span><br><span class="line"><span class="function"><span class="params">  customSetter?: Function</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">/*åœ¨é—­åŒ…ä¸­å®šä¹‰ä¸€ä¸ªdepå¯¹è±¡*/</span></span><br><span class="line">  <span class="keyword">const</span> dep = <span class="keyword">new</span> Dep()</span><br><span class="line">  <span class="keyword">const</span> property = <span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, key)</span><br><span class="line">  <span class="keyword">if</span> (property &amp;&amp; property.configurable === <span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*å¦‚æœä¹‹å‰è¯¥å¯¹è±¡å·²ç»é¢„è®¾äº†getterä»¥åŠsetterå‡½æ•°åˆ™å°†å…¶å–å‡ºæ¥ï¼Œæ–°å®šä¹‰çš„getter/setterä¸­ä¼šå°†å…¶æ‰§è¡Œï¼Œä¿è¯ä¸ä¼šè¦†ç›–ä¹‹å‰å·²ç»å®šä¹‰çš„getter/setterã€‚*/</span></span><br><span class="line">  <span class="comment">// cater for pre-defined getter/setters</span></span><br><span class="line">  <span class="keyword">const</span> getter = property &amp;&amp; property.get</span><br><span class="line">  <span class="keyword">const</span> setter = property &amp;&amp; property.set</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*å¯¹è±¡çš„å­å¯¹è±¡é€’å½’è¿›è¡Œobserveå¹¶è¿”å›å­èŠ‚ç‚¹çš„Observerå¯¹è±¡*/</span></span><br><span class="line">  <span class="keyword">let</span> childOb = observe(val)</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">/*å¦‚æœåŸæœ¬å¯¹è±¡æ‹¥æœ‰getteræ–¹æ³•åˆ™æ‰§è¡Œ*/</span></span><br><span class="line">      <span class="keyword">const</span> value = getter ? getter.call(obj) : val</span><br><span class="line">      <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">        <span class="comment">/*è¿›è¡Œä¾èµ–æ”¶é›†*/</span></span><br><span class="line">        dep.depend()</span><br><span class="line">        <span class="keyword">if</span> (childOb) &#123;</span><br><span class="line">          <span class="comment">/*å­å¯¹è±¡è¿›è¡Œä¾èµ–æ”¶é›†ï¼Œå…¶å®å°±æ˜¯å°†åŒä¸€ä¸ªwatcherè§‚å¯Ÿè€…å®ä¾‹æ”¾è¿›äº†ä¸¤ä¸ªdependä¸­ï¼Œä¸€ä¸ªæ˜¯æ­£åœ¨æœ¬èº«é—­åŒ…ä¸­çš„dependï¼Œå¦ä¸€ä¸ªæ˜¯å­å…ƒç´ çš„depend*/</span></span><br><span class="line">          childOb.dep.depend()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">          <span class="comment">/*æ˜¯æ•°ç»„åˆ™éœ€è¦å¯¹æ¯ä¸€ä¸ªæˆå‘˜éƒ½è¿›è¡Œä¾èµ–æ”¶é›†ï¼Œå¦‚æœæ•°ç»„çš„æˆå‘˜è¿˜æ˜¯æ•°ç»„ï¼Œåˆ™é€’å½’ã€‚*/</span></span><br><span class="line">          dependArray(value)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">      <span class="comment">/*é€šè¿‡getteræ–¹æ³•è·å–å½“å‰å€¼ï¼Œä¸æ–°å€¼è¿›è¡Œæ¯”è¾ƒï¼Œä¸€è‡´åˆ™ä¸éœ€è¦æ‰§è¡Œä¸‹é¢çš„æ“ä½œ*/</span></span><br><span class="line">      <span class="keyword">const</span> value = getter ? getter.call(obj) : val</span><br><span class="line">      <span class="comment">/* eslint-disable no-self-compare */</span></span><br><span class="line">      <span class="keyword">if</span> (newVal === value || (newVal !== newVal &amp;&amp; value !== value)) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">/* eslint-enable no-self-compare */</span></span><br><span class="line">      <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; customSetter) &#123;</span><br><span class="line">        customSetter()</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (setter) &#123;</span><br><span class="line">        <span class="comment">/*å¦‚æœåŸæœ¬å¯¹è±¡æ‹¥æœ‰setteræ–¹æ³•åˆ™æ‰§è¡Œsetter*/</span></span><br><span class="line">        setter.call(obj, newVal)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        val = newVal</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">/*æ–°çš„å€¼éœ€è¦é‡æ–°è¿›è¡Œobserveï¼Œä¿è¯æ•°æ®å“åº”å¼*/</span></span><br><span class="line">      childOb = observe(newVal)</span><br><span class="line">      <span class="comment">/*depå¯¹è±¡é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…*/</span></span><br><span class="line">      dep.notify()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­getteræ–¹æ³•ï¼š</p><ol><li>å…ˆä¸ºæ¯ä¸ªdataå£°æ˜ä¸€ä¸ª <strong>Dep</strong> å®ä¾‹å¯¹è±¡ï¼Œè¢«ç”¨äºgetteræ—¶æ‰§è¡Œdep.depend()è¿›è¡Œæ”¶é›†ç›¸å…³çš„ä¾èµ–;</li><li>æ ¹æ®Dep.targetæ¥åˆ¤æ–­æ˜¯å¦æ”¶é›†ä¾èµ–ï¼Œè¿˜æ˜¯æ™®é€šå–å€¼ã€‚Dep.targetæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™ï¼Œå¦‚ä½•æ”¶é›†çš„åé¢å†è¯´æ˜ï¼Œå…ˆç®€å•äº†è§£å®ƒçš„ä½œç”¨ï¼Œ</li></ol><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬ä¸ºå•¥è¦æ”¶é›†ç›¸å…³ä¾èµ–å‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    template: </span><br><span class="line">        <span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;span&gt;text1:&lt;/span&gt; &#123;&#123;text1&#125;&#125;</span></span><br><span class="line"><span class="string">            &lt;span&gt;text2:&lt;/span&gt; &#123;&#123;text2&#125;&#125;</span></span><br><span class="line"><span class="string">        &lt;div&gt;`</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        text1: <span class="string">'text1'</span>,</span><br><span class="line">        text2: <span class="string">'text2'</span>,</span><br><span class="line">        text3: <span class="string">'text3'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸Šä»£ç çœ‹å‡ºï¼Œdataä¸­text3å¹¶æ²¡æœ‰è¢«æ¨¡æ¿å®é™…ç”¨åˆ°ï¼Œä¸ºäº†æé«˜ä»£ç æ‰§è¡Œæ•ˆç‡ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦å¯¹å…¶è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œå› æ­¤ï¼Œä¾èµ–æ”¶é›†ç®€å•ç‚¹ç†è§£å°±æ˜¯æ”¶é›†åªåœ¨å®é™…é¡µé¢ä¸­ç”¨åˆ°çš„dataæ•°æ®ï¼Œç„¶åæ‰“ä¸Šæ ‡è®°ï¼Œè¿™é‡Œå°±æ˜¯æ ‡è®°ä¸ºDep.targetã€‚</p><p>åœ¨setteræ–¹æ³•ä¸­:</p><ol><li>è·å–æ–°çš„å€¼å¹¶ä¸”è¿›è¡Œobserveï¼Œä¿è¯æ•°æ®å“åº”å¼ï¼›</li><li>é€šè¿‡depå¯¹è±¡é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å»æ›´æ–°æ•°æ®ï¼Œä»è€Œè¾¾åˆ°å“åº”å¼æ•ˆæœã€‚</li></ol><p>åœ¨Observerç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨getteræ—¶ï¼Œdepä¼šæ”¶é›†ç›¸å…³ä¾èµ–ï¼Œå³æ”¶é›†ä¾èµ–çš„watcherï¼Œç„¶ååœ¨setteræ“ä½œæ—¶å€™é€šè¿‡depå»é€šçŸ¥watcher,æ­¤æ—¶watcherå°±æ‰§è¡Œå˜åŒ–ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ï¼šDepå¯ä»¥çœ‹åšæ˜¯ä¹¦åº—ï¼ŒWatcherå°±æ˜¯ä¹¦åº—è®¢é˜…è€…ï¼Œè€ŒObserverå°±æ˜¯ä¹¦åº—çš„ä¹¦ï¼Œè®¢é˜…è€…åœ¨ä¹¦åº—è®¢é˜…ä¹¦ç±ï¼Œå°±å¯ä»¥æ·»åŠ è®¢é˜…è€…ä¿¡æ¯ï¼Œä¸€æ—¦æœ‰æ–°ä¹¦å°±ä¼šé€šè¿‡ä¹¦åº—ç»™è®¢é˜…è€…å‘é€æ¶ˆæ¯ã€‚</p><h2 id="3-watcher"><a class="header-anchor" href="#3-watcher"></a>3ã€Watcher</h2><p>Watcheræ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡ã€‚ä¾èµ–æ”¶é›†ä»¥åWatcherå¯¹è±¡ä¼šè¢«ä¿å­˜åœ¨Depçš„subsä¸­ï¼Œæ•°æ®å˜åŠ¨çš„æ—¶å€™Depä¼šé€šçŸ¥Watcherå®ä¾‹ï¼Œç„¶åç”±Watcherå®ä¾‹å›è°ƒcbè¿›è¡Œè§†å›¾çš„æ›´æ–°ã€‚</p><p><a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/observer/watcher.js" target="_blank" rel="noopener">src/core/observer/watcher.js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> (</span><br><span class="line">    vm: Component,</span><br><span class="line">    expOrFn: string | Function,</span><br><span class="line">    cb: Function,</span><br><span class="line">    options?: Object</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">this</span>.vm = vm</span><br><span class="line">    <span class="comment">/*_watcherså­˜æ”¾è®¢é˜…è€…å®ä¾‹*/</span></span><br><span class="line">    vm._watchers.push(<span class="keyword">this</span>)</span><br><span class="line">    <span class="comment">// options</span></span><br><span class="line">    <span class="keyword">if</span> (options) &#123;</span><br><span class="line">      <span class="keyword">this</span>.deep = !!options.deep</span><br><span class="line">      <span class="keyword">this</span>.user = !!options.user</span><br><span class="line">      <span class="keyword">this</span>.lazy = !!options.lazy</span><br><span class="line">      <span class="keyword">this</span>.sync = !!options.sync</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.deep = <span class="keyword">this</span>.user = <span class="keyword">this</span>.lazy = <span class="keyword">this</span>.sync = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.cb = cb</span><br><span class="line">    <span class="keyword">this</span>.id = ++uid <span class="comment">// uid for batching</span></span><br><span class="line">    <span class="keyword">this</span>.active = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">this</span>.dirty = <span class="keyword">this</span>.lazy <span class="comment">// for lazy watchers</span></span><br><span class="line">    <span class="keyword">this</span>.deps = []</span><br><span class="line">    <span class="keyword">this</span>.newDeps = []</span><br><span class="line">    <span class="keyword">this</span>.depIds = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">    <span class="keyword">this</span>.newDepIds = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">    <span class="keyword">this</span>.expression = process.env.NODE_ENV !== <span class="string">'production'</span></span><br><span class="line">      ? expOrFn.toString()</span><br><span class="line">      : <span class="string">''</span></span><br><span class="line">    <span class="comment">// parse expression for getter</span></span><br><span class="line">    <span class="comment">/*æŠŠè¡¨è¾¾å¼expOrFnè§£ææˆgetter*/</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> expOrFn === <span class="string">'function'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.getter = expOrFn</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.getter = parsePath(expOrFn)</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.getter) &#123;</span><br><span class="line">        <span class="keyword">this</span>.getter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">        process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; warn(</span><br><span class="line">          <span class="string">`Failed watching path: "<span class="subst">$&#123;expOrFn&#125;</span>" `</span> +</span><br><span class="line">          <span class="string">'Watcher only accepts simple dot-delimited paths. '</span> +</span><br><span class="line">          <span class="string">'For full control, use a function instead.'</span>,</span><br><span class="line">          vm</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.value = <span class="keyword">this</span>.lazy</span><br><span class="line">      ? <span class="literal">undefined</span></span><br><span class="line">      : <span class="keyword">this</span>.get()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Evaluate the getter, and re-collect dependencies.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*è·å¾—getterçš„å€¼å¹¶ä¸”é‡æ–°è¿›è¡Œä¾èµ–æ”¶é›†*/</span></span><br><span class="line">  get () &#123;</span><br><span class="line">    <span class="comment">/*å°†è‡ªèº«watcherè§‚å¯Ÿè€…å®ä¾‹è®¾ç½®ç»™Dep.targetï¼Œç”¨ä»¥ä¾èµ–æ”¶é›†ã€‚*/</span></span><br><span class="line">    pushTarget(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">let</span> value</span><br><span class="line">    <span class="keyword">const</span> vm = <span class="keyword">this</span>.vm</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ‰§è¡Œäº†getteræ“ä½œï¼Œçœ‹ä¼¼æ‰§è¡Œäº†æ¸²æŸ“æ“ä½œï¼Œå…¶å®æ˜¯æ‰§è¡Œäº†ä¾èµ–æ”¶é›†ã€‚</span></span><br><span class="line"><span class="comment">      åœ¨å°†Dep.targetè®¾ç½®ä¸ºè‡ªç”Ÿè§‚å¯Ÿè€…å®ä¾‹ä»¥åï¼Œæ‰§è¡Œgetteræ“ä½œã€‚</span></span><br><span class="line"><span class="comment">      è­¬å¦‚è¯´ç°åœ¨çš„çš„dataä¸­å¯èƒ½æœ‰aã€bã€cä¸‰ä¸ªæ•°æ®ï¼Œgetteræ¸²æŸ“éœ€è¦ä¾èµ–aè·Ÿcï¼Œ</span></span><br><span class="line"><span class="comment">      é‚£ä¹ˆåœ¨æ‰§è¡Œgetterçš„æ—¶å€™å°±ä¼šè§¦å‘aè·Ÿcä¸¤ä¸ªæ•°æ®çš„getterå‡½æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">      åœ¨getterå‡½æ•°ä¸­å³å¯åˆ¤æ–­Dep.targetæ˜¯å¦å­˜åœ¨ç„¶åå®Œæˆä¾èµ–æ”¶é›†ï¼Œ</span></span><br><span class="line"><span class="comment">      å°†è¯¥è§‚å¯Ÿè€…å¯¹è±¡æ”¾å…¥é—­åŒ…ä¸­çš„Depçš„subsä¸­å»ã€‚*/</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.user) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        value = <span class="keyword">this</span>.getter.call(vm, vm)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        handleError(e, vm, <span class="string">`getter for watcher "<span class="subst">$&#123;<span class="keyword">this</span>.expression&#125;</span>"`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      value = <span class="keyword">this</span>.getter.call(vm, vm)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// "touch" every property so they are all tracked as</span></span><br><span class="line">    <span class="comment">// dependencies for deep watching</span></span><br><span class="line">    <span class="comment">/*å¦‚æœå­˜åœ¨deepï¼Œåˆ™è§¦å‘æ¯ä¸ªæ·±å±‚å¯¹è±¡çš„ä¾èµ–ï¼Œè¿½è¸ªå…¶å˜åŒ–*/</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.deep) &#123;</span><br><span class="line">      <span class="comment">/*é€’å½’æ¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œè§¦å‘å®ƒä»¬çš„getterï¼Œä½¿å¾—å¯¹è±¡æˆ–æ•°ç»„çš„æ¯ä¸€ä¸ªæˆå‘˜éƒ½è¢«ä¾èµ–æ”¶é›†ï¼Œå½¢æˆä¸€ä¸ªâ€œæ·±ï¼ˆdeepï¼‰â€ä¾èµ–å…³ç³»*/</span></span><br><span class="line">      traverse(value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*å°†è§‚å¯Ÿè€…å®ä¾‹ä»targetæ ˆä¸­å–å‡ºå¹¶è®¾ç½®ç»™Dep.target*/</span></span><br><span class="line">    popTarget()</span><br><span class="line">    <span class="keyword">this</span>.cleanupDeps()</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Add a dependency to this directive.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*æ·»åŠ ä¸€ä¸ªä¾èµ–å…³ç³»åˆ°Depsé›†åˆä¸­*/</span></span><br><span class="line">  addDep (dep: Dep) &#123;</span><br><span class="line">    <span class="keyword">const</span> id = dep.id</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.newDepIds.has(id)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.newDepIds.add(id)</span><br><span class="line">      <span class="keyword">this</span>.newDeps.push(dep)</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.depIds.has(id)) &#123;</span><br><span class="line">        dep.addSub(<span class="keyword">this</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Clean up for dependency collection.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*æ¸…ç†ä¾èµ–æ”¶é›†*/</span></span><br><span class="line">  cleanupDeps () &#123;</span><br><span class="line">    <span class="comment">/*ç§»é™¤æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡*/</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Subscriber interface.</span></span><br><span class="line"><span class="comment">   * Will be called when a dependency changes.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">      è°ƒåº¦è€…æ¥å£ï¼Œå½“ä¾èµ–å‘ç”Ÿæ”¹å˜çš„æ—¶å€™è¿›è¡Œå›è°ƒã€‚</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  update () &#123;</span><br><span class="line">    <span class="comment">/* istanbul ignore else */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.lazy) &#123;</span><br><span class="line">      <span class="keyword">this</span>.dirty = <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.sync) &#123;</span><br><span class="line">      <span class="comment">/*åŒæ­¥åˆ™æ‰§è¡Œrunç›´æ¥æ¸²æŸ“è§†å›¾*/</span></span><br><span class="line">      <span class="keyword">this</span>.run()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">/*å¼‚æ­¥æ¨é€åˆ°è§‚å¯Ÿè€…é˜Ÿåˆ—ä¸­ï¼Œä¸‹ä¸€ä¸ªtickæ—¶è°ƒç”¨ã€‚*/</span></span><br><span class="line">      queueWatcher(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Scheduler job interface.</span></span><br><span class="line"><span class="comment">   * Will be called by the scheduler.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">      è°ƒåº¦è€…å·¥ä½œæ¥å£ï¼Œå°†è¢«è°ƒåº¦è€…å›è°ƒã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  run () &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.active) &#123;</span><br><span class="line">      <span class="comment">/* getæ“ä½œåœ¨è·å–valueæœ¬èº«ä¹Ÿä¼šæ‰§è¡Œgetterä»è€Œè°ƒç”¨updateæ›´æ–°è§†å›¾ */</span></span><br><span class="line">      <span class="keyword">const</span> value = <span class="keyword">this</span>.get()</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        value !== <span class="keyword">this</span>.value ||</span><br><span class="line">        <span class="comment">// Deep watchers and watchers on Object/Arrays should fire even</span></span><br><span class="line">        <span class="comment">// when the value is the same, because the value may</span></span><br><span class="line">        <span class="comment">// have mutated.</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            å³ä¾¿å€¼ç›¸åŒï¼Œæ‹¥æœ‰Deepå±æ€§çš„è§‚å¯Ÿè€…ä»¥åŠåœ¨å¯¹è±¡ï¼æ•°ç»„ä¸Šçš„è§‚å¯Ÿè€…åº”è¯¥è¢«è§¦å‘æ›´æ–°ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼å¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        isObject(value) ||</span><br><span class="line">        <span class="keyword">this</span>.deep</span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="comment">// set new value</span></span><br><span class="line">        <span class="keyword">const</span> oldValue = <span class="keyword">this</span>.value</span><br><span class="line">        <span class="comment">/*è®¾ç½®æ–°çš„å€¼*/</span></span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*è§¦å‘å›è°ƒ*/</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.user) &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.cb.call(<span class="keyword">this</span>.vm, value, oldValue)</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            handleError(e, <span class="keyword">this</span>.vm, <span class="string">`callback for watcher "<span class="subst">$&#123;<span class="keyword">this</span>.expression&#125;</span>"`</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.cb.call(<span class="keyword">this</span>.vm, value, oldValue)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Evaluate the value of the watcher.</span></span><br><span class="line"><span class="comment">   * This only gets called for lazy watchers.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*è·å–è§‚å¯Ÿè€…çš„å€¼*/</span></span><br><span class="line">  evaluate () &#123;</span><br><span class="line">    <span class="keyword">this</span>.value = <span class="keyword">this</span>.get()</span><br><span class="line">    <span class="keyword">this</span>.dirty = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Depend on all deps collected by this watcher.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*æ”¶é›†è¯¥watcherçš„æ‰€æœ‰depsä¾èµ–*/</span></span><br><span class="line">  depend () &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="keyword">this</span>.deps.length</span><br><span class="line">    <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">      <span class="keyword">this</span>.deps[i].depend()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Remove self from all dependencies' subscriber list.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="comment">/*å°†è‡ªèº«ä»æ‰€æœ‰ä¾èµ–æ”¶é›†è®¢é˜…åˆ—è¡¨åˆ é™¤*/</span></span><br><span class="line">  teardown () &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-dep"><a class="header-anchor" href="#4-dep"></a>4ã€Dep</h2><p>è¢«Observerçš„dataåœ¨è§¦å‘ <strong>getter</strong> æ—¶ï¼Œ<strong>Dep</strong> å°±ä¼šæ”¶é›†ä¾èµ–çš„ <strong>Watcher</strong> ï¼Œå…¶å® <strong>Dep</strong> å°±åƒåˆšæ‰è¯´çš„æ˜¯ä¸€ä¸ªä¹¦åº—ï¼Œå¯ä»¥æ¥å—å¤šä¸ªè®¢é˜…è€…çš„è®¢é˜…ï¼Œå½“æœ‰æ–°ä¹¦æ—¶å³åœ¨dataå˜åŠ¨æ—¶ï¼Œå°±ä¼šé€šè¿‡ <strong>Dep</strong> ç»™ <strong>Watcher</strong> å‘é€šçŸ¥è¿›è¡Œæ›´æ–°ã€‚</p><p><a href="https://github.com/huangzhuangjia/Vue-learn/blob/master/core/observer/dep.js" target="_blank" rel="noopener">src/core/observer/dep.js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> target: ?Watcher;</span><br><span class="line">  id: number;</span><br><span class="line">  subs: <span class="built_in">Array</span>&lt;Watcher&gt;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span> () &#123;</span><br><span class="line">    <span class="keyword">this</span>.id = uid++</span><br><span class="line">    <span class="keyword">this</span>.subs = []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*æ·»åŠ ä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡*/</span></span><br><span class="line">  addSub (sub: Watcher) &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs.push(sub)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*ç§»é™¤ä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡*/</span></span><br><span class="line">  removeSub (sub: Watcher) &#123;</span><br><span class="line">    remove(<span class="keyword">this</span>.subs, sub)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*ä¾èµ–æ”¶é›†ï¼Œå½“å­˜åœ¨Dep.targetçš„æ—¶å€™æ·»åŠ è§‚å¯Ÿè€…å¯¹è±¡*/</span></span><br><span class="line">  depend () &#123;</span><br><span class="line">    <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">      Dep.target.addDep(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…*/</span></span><br><span class="line">  notify () &#123;</span><br><span class="line">    <span class="comment">// stabilize the subscriber list first</span></span><br><span class="line">    <span class="keyword">const</span> subs = <span class="keyword">this</span>.subs.slice()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = subs.length; i &lt; l; i++) &#123;</span><br><span class="line">      subs[i].update()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>æ€»ç»“</h1><p>å…¶å®åœ¨ <strong>Vue</strong> ä¸­åˆå§‹åŒ–æ¸²æŸ“æ—¶ï¼Œè§†å›¾ä¸Šç»‘å®šçš„æ•°æ®å°±ä¼šå®ä¾‹åŒ–ä¸€ä¸ª <strong>Watcher</strong>ï¼Œä¾èµ–æ”¶é›†å°±æ˜¯æ˜¯é€šè¿‡å±æ€§çš„ <strong>getter</strong> å‡½æ•°å®Œæˆçš„ï¼Œæ–‡ç« ä¸€å¼€å§‹è®²åˆ°çš„ <strong>Observer</strong> ã€<strong>Watcher</strong> ã€<strong>Dep</strong> éƒ½ä¸ä¾èµ–æ”¶é›†ç›¸å…³ã€‚å…¶ä¸­ <strong>Observer</strong> ä¸ <strong>Dep</strong> æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œ <strong>Dep</strong> ä¸ <strong>Watcher</strong> æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œ<strong>Dep</strong> åˆ™æ˜¯ <strong>Observer</strong> å’Œ <strong>Watcher</strong> ä¹‹é—´çš„çº½å¸¦ã€‚ä¾èµ–æ”¶é›†å®Œæˆåï¼Œå½“å±æ€§å˜åŒ–ä¼šæ‰§è¡Œè¢« <strong>Observer</strong> å¯¹è±¡çš„ <strong>dep.notify()</strong> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šéå†è®¢é˜…è€…ï¼ˆWatcherï¼‰åˆ—è¡¨å‘å…¶å‘é€æ¶ˆæ¯ï¼Œ <strong>Watcher</strong> ä¼šæ‰§è¡Œ <strong>run</strong> æ–¹æ³•å»æ›´æ–°è§†å›¾ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€å¼ å›¾æ€»ç»“ä¸€ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/huangzhuangjia/Vue-learn/master/doc/img/vue-reactive.jpg" alt="å…³ç³»å›¾"></p><ol><li>åœ¨ <strong>Vue</strong> ä¸­æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æŒ‡ä»¤æˆ–è€…æ•°æ®ç»‘å®šéƒ½ä¼šå®ä¾‹åŒ–ä¸€ä¸ª <strong>Watcher</strong> å®ä¾‹ï¼Œå®ä¾‹åŒ–è¿‡ç¨‹ä¸­ä¼šè§¦å‘ <strong>get()</strong> å°†è‡ªèº«æŒ‡å‘ <strong>Dep.target</strong>;</li><li>dataåœ¨ <strong>Observer</strong> æ—¶æ‰§è¡Œ <strong>getter</strong> ä¼šè§¦å‘ <strong>dep.depend()</strong> è¿›è¡Œä¾èµ–æ”¶é›†;ä¾èµ–æ”¶é›†çš„ç»“æœï¼š1ã€dataåœ¨ <strong>Observer</strong> æ—¶é—­åŒ…çš„depå®ä¾‹çš„subsæ·»åŠ è§‚å¯Ÿå®ƒçš„ <strong>Watcher</strong> å®ä¾‹ï¼›2. <strong>Watcher</strong> çš„depsä¸­æ·»åŠ è§‚å¯Ÿå¯¹è±¡ <strong>Observer</strong> æ—¶çš„é—­åŒ…depï¼›</li><li>å½“dataä¸­è¢« <strong>Observer</strong> çš„æŸä¸ªå¯¹è±¡å€¼å˜åŒ–åï¼Œè§¦å‘subsä¸­è§‚å¯Ÿå®ƒçš„watcheræ‰§è¡Œ <strong>update()</strong> æ–¹æ³•ï¼Œæœ€åå®é™…ä¸Šæ˜¯è°ƒç”¨watcherçš„å›è°ƒå‡½æ•°cbï¼Œè¿›è€Œæ›´æ–°è§†å›¾ã€‚</li></ol><h1>å‚è€ƒ</h1><ul><li><a href="https://github.com/vuejs/vue" target="_blank" rel="noopener">Vueæºç </a></li><li><a href="https://cn.vuejs.org" target="_blank" rel="noopener">Vueæ–‡æ¡£</a></li><li><a href="https://github.com/answershuto/learnVue" target="_blank" rel="noopener">Vueæºç å­¦ä¹ </a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;åˆæ­¥&lt;/h1&gt;
&lt;p&gt;æœ€è¿‘ä¸€æ®µæ—¶é—´åœ¨é˜…è¯»Vueæºç ï¼Œä»å®ƒçš„æ ¸å¿ƒåŸç†å…¥æ‰‹ï¼Œå¼€å§‹äº†æºç çš„å­¦ä¹ ï¼Œè€Œå…¶æ ¸å¿ƒåŸç†å°±æ˜¯å…¶æ•°æ®çš„å“åº”å¼ï¼Œè®²åˆ°Vueçš„å“åº”å¼åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥ä»å®ƒçš„å…¼å®¹æ€§è¯´èµ·ï¼ŒVueä¸æ”¯æŒIE8ä»¥ä¸‹ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œå› ä¸ºVueæ˜¯åŸºäº &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Object.defineProperty&lt;/a&gt; æ¥å®ç°æ•°æ®å“åº”çš„ï¼Œè€Œ Object.defineProperty æ˜¯ ES5 ä¸­ä¸€ä¸ªæ— æ³• shim çš„ç‰¹æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ Vue ä¸æ”¯æŒ IE8 ä»¥åŠæ›´ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŸå› ï¼›Vueé€šè¿‡Object.definePropertyçš„ &lt;strong&gt;getter/setter&lt;/strong&gt; å¯¹æ”¶é›†çš„ä¾èµ–é¡¹è¿›è¡Œç›‘å¬,åœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–,è¿›è€Œæ›´æ–°è§†å›¾æ•°æ®ï¼›&lt;/p&gt;
&lt;p&gt;å—ç°ä»£JavaScript çš„é™åˆ¶ (ä»¥åŠåºŸå¼ƒ &lt;strong&gt;Object.observe&lt;/strong&gt;)ï¼ŒVueä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ &lt;strong&gt;getter/setter&lt;/strong&gt; è½¬åŒ–è¿‡ç¨‹ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ &lt;strong&gt;data&lt;/strong&gt; å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®©Vueè½¬æ¢å®ƒï¼Œè¿™æ ·æ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Vueï¼Œæºç é˜…è¯»" scheme="https://huangzhuangjia.github.io/tags/Vue%EF%BC%8C%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºç§»åŠ¨ç«¯å¼€å‘ä¸­é‡åˆ°çš„å‘</title>
    <link href="https://huangzhuangjia.github.io/2017/07/30/something-about-web-app/"/>
    <id>https://huangzhuangjia.github.io/2017/07/30/something-about-web-app/</id>
    <published>2017-07-30T14:54:06.000Z</published>
    <updated>2019-01-11T09:32:31.584Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‰æœˆä¸­æ—¬è·³å®Œæ§½ä¹‹åå°±å¥½å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œè·³åˆ°æŸå…¬å¸ä¹‹åï¼Œæ€€æ£ç€æ»¡è…”çƒ­æ°´çš„æˆ‘åˆæŠ•å…¥äº†å·¥ä½œä¸­ï¼Œä»é¢è¯•ã€åŠç†ç¦»èŒåˆ°å…¥èŒåªç”¨äº†ä¸€ä¸ªæ˜ŸæœŸã€‚è¿™æ•ˆç‡ä¹Ÿæ²¡è°äº†ï¼Œå…¥èŒä¹‹åç»™äº†ä¸€ä¸ªå°é¡¹ç›®ï¼Œç”¨Vueå…¨å®¶æ¡¶å¼€å‘ä¸€ä¸ªç®€æ˜“çš„ä¸ªäººåšå®¢ã€‚å› ä¸ºä¹‹å‰è‡ªå­¦äº†è§£è¿‡ï¼Œäºæ˜¯å¾ˆå¿«å°±ä¸Šæ‰‹ï¼ŒåŸæœ¬è¦æ±‚ç”¨ä¸¤å‘¨çš„æ—¶é—´ç”¨äº†ä¸‰å¤©å°±å®Œæˆäº†å…¨éƒ¨çš„åŠŸèƒ½ï¼Œäºæ˜¯å°±ä¸€å‘¨ä¹‹åå°±å¼€å§‹å®‰æ’åˆ°é¡¹ç›®ç»„è¿›è¡Œå®é™…çš„å¼€å‘ä¸­äº†ï¼Œæœ€åè¢«å®‰æ’åˆ°æ‹›è˜ç»„è´Ÿè´£æ ¡æ‹›çš„å‰ç«¯å¼€å‘ã€‚ä¸€å»å°±æäº‹æƒ…ï¼Œç»™æˆ‘å®‰æ’äº†åå°ç§»åŠ¨ç«¯çš„å¼€å‘ï¼Œå°±æ˜¯ä¸ºäº†æ–¹ä¾¿é¢†å¯¼æ‰‹æœºä¸Šä½¿ç”¨ï¼ŒåŸºäºå†…éƒ¨é¡¹ç›®éƒ½æ˜¯ç”¨äº†Vueï¼Œæœ€åç¡®å®šç”¨Vue+ä¸€ä¸ªç§»åŠ¨ç«¯çš„åŸºäºVueçš„UIæ¡†æ¶Vuxè¿›è¡Œå¼€å‘ï¼Œäºæ˜¯å°±è¿›å…¥äº†ç§»åŠ¨ç«¯çš„è¸©å‘ä¹‹æ—…ï¼Œä¹‹å‰æ¯”è¾ƒå°‘æ¥è§¦ç§»åŠ¨ç«¯å¼€å‘ã€‚<br>é¡¹ç›®å¼€å‘æ˜¯åŸºäºVueçš„UIæ¡†æ¶Vuxï¼Œå…¶å®å°±æ˜¯ä¸€å¥—åŸºäºWe-UIçš„ä¸€å¥—ç§»åŠ¨ç«¯UIæ¡†æ¶ï¼Œä½†æ ¹æ®å®é™…æƒ…å†µï¼Œä¸€äº›å¸ƒå±€è¿˜æ˜¯å¾—è‡ªå·±å»é‡æ„ã€‚äºæ˜¯å°±æ„‰å¿«çš„è¸©èµ·äº†ç§»åŠ¨ç«¯å¼€å‘çš„å‘ã€‚</p><a id="more"></a><h1>æ»šåŠ¨ç©¿é€é—®é¢˜</h1><p>æ»šåŠ¨ç©¿é€æ˜¯æŒ‡åœ¨ç§»åŠ¨ç«¯å½“æœ‰ fixed é®ç½©èƒŒæ™¯å’Œå¼¹å‡ºå±‚æ—¶ï¼Œåœ¨å±å¹•ä¸Šæ»‘åŠ¨èƒ½å¤Ÿæ»‘åŠ¨èƒŒæ™¯ä¸‹é¢çš„å†…å®¹ã€‚ç½‘ä¸Šæ•´ç†äº†è§£å†³æ–¹æ¡ˆï¼Œä½†æœ‰äº›è¿˜æ˜¯å­˜åœ¨ä¸€å®šçš„é—®é¢˜ï¼š</p><h2 id="è®¾ç½®overflowä¸ºhidden"><a class="header-anchor" href="#è®¾ç½®overflowä¸ºhidden"></a>è®¾ç½®overflowä¸ºhidden</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.modal-open</span> &#123;</span><br><span class="line">    &amp;, body &#123;</span><br><span class="line">        <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">        <span class="selector-tag">height</span>: 100%</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³å½“å¼¹å‡ºå±‚å¼¹å‡ºæ—¶åœ¨htmlä¸Šæ·»åŠ .modal-open,ç¦ç”¨ html å’Œ body çš„æ»šåŠ¨æ¡,ä½†å®é™…ç”¨ä¸Šå°±ä¼šå‘ç°ï¼š</p><ol><li>ç”±äº html å’Œ bodyçš„æ»šåŠ¨æ¡éƒ½è¢«ç¦ç”¨ï¼Œå¼¹å‡ºå±‚åé¡µé¢çš„æ»šåŠ¨ä½ç½®ä¼šä¸¢å¤±ï¼Œéœ€è¦ç”¨ js æ¥è®¡ç®—åŸæ¥æ»šåŠ¨çš„ä½ç½®ï¼Œåœ¨å¼¹å‡ºæ—¶ä¿æŒæ»šåŠ¨ä½ç½®ï¼›</li><li>æ¯å…·(ï¼ï¹ï¼œ)çš„æ˜¯é¡µé¢çš„èƒŒæ™¯è¿˜æ˜¯èƒ½å¤Ÿæœ‰æ»šçš„åŠ¨çš„æ•ˆæœ</li></ol><h2 id="js-ä¹‹-touchmove-preventdefault"><a class="header-anchor" href="#js-ä¹‹-touchmove-preventdefault"></a>js ä¹‹ touchmove + preventDefault</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modal.addEventListener(<span class="string">'touchmove'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>å³é€šè¿‡é˜»æ­¢ç§»åŠ¨ç«¯touchmoveäº‹ä»¶ï¼Œä½†å®é™…ç”¨ä¸Šä¼šå‘ç°å¼¹å‡ºå±‚éœ€è¦æ»šåŠ¨æ—¶ä¹Ÿä¼šè¢«é˜»æ­¢(ï¼ï¹ï¼œ)</p><h2 id="æœ€åè§£å†³æ–¹æ¡ˆï¼šposition-fixed"><a class="header-anchor" href="#æœ€åè§£å†³æ–¹æ¡ˆï¼šposition-fixed"></a>æœ€åè§£å†³æ–¹æ¡ˆï¼šposition: fixed</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-class">.modal-open</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼åŒæ ·å½“å¼¹å‡ºå±‚å¼¹å‡ºæ—¶æ»šåŠ¨æ¡ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä½¿ç”¨jsæ¥ä¿å­˜æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œåœ¨å…³é—­å¼¹å‡ºå±‚æ—¶å°†æ»šåŠ¨ä½ç½®è¿˜åŸï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ModalHelper = (<span class="function"><span class="keyword">function</span>(<span class="params">bodyCls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scrollTop; <span class="comment">// åœ¨é—­åŒ…ä¸­å®šä¹‰ä¸€ä¸ªç”¨æ¥ä¿å­˜æ»šåŠ¨ä½ç½®çš„å˜é‡</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    afterOpen: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//å¼¹å‡ºä¹‹åè®°å½•ä¿å­˜æ»šåŠ¨ä½ç½®ï¼Œå¹¶ä¸”ç»™bodyæ·»åŠ .modal-open</span></span><br><span class="line">      scrollTop = <span class="built_in">document</span>.scrollingElement.scrollTop;</span><br><span class="line">      <span class="built_in">document</span>.body.classList.add(bodyCls);</span><br><span class="line">      <span class="built_in">document</span>.body.style.top = -scrollTop + <span class="string">'px'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeClose: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//å…³é—­æ—¶å°†.modal-openç§»é™¤å¹¶è¿˜åŸä¹‹å‰ä¿å­˜æ»šåŠ¨ä½ç½®</span></span><br><span class="line">      <span class="built_in">document</span>.body.classList.remove(bodyCls);</span><br><span class="line">      <span class="built_in">document</span>.scrollingElement.scrollTop = scrollTop;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(<span class="string">'modal-open'</span>);</span><br></pre></td></tr></table></figure><p>æœ¬äººäº²æµ‹ç¡®å®æ¯”è¾ƒå®Œç¾è§£å†³äº†ç§»åŠ¨ç«¯æ»šåŠ¨é—®é¢˜ğŸ˜Š</p><h1>ç§»åŠ¨ç«¯è¾“å…¥æ¡†è¢«é”®ç›˜æŒ¡ä½é—®é¢˜</h1><p>ç”±äºæ‰€å¼€å‘çš„é¡µé¢å†…åµŒåœ¨å…¬å¸çš„ä¸€ä¸ªAPPä¸­ï¼Œæœ‰ä¸€ä¸ªç±»ä¼¼èŠå¤©çª—å£çš„ç•Œé¢ï¼Œæµ‹è¯•çš„æ—¶å€™å‘ç°åœ¨éƒ¨åˆ†å®‰å“æœºä¸­è¾“å…¥æ¡†è¢«å®Œå…¨é®æŒ¡ä½ï¼Œè¸©è¿™ä¸ªå‘æ—¶åœ¨ç½‘ä¸Šæ‰¾äº†å¥½å¤šèµ„æ–™ï¼Œå¥½åƒéƒ½æ²¡æœ‰ä¸€å¥—å®Œæ•´çš„è§£å†³åŠæ³•ï¼Œå…ˆçœ‹å…¶ä¸­ä¸€ç§è§£å†³åŠæ³•ï¼Œå¯ä»¥è§£å†³ç»å¤§æ•°å®‰å“æœºä¸Šé¢çš„é—®é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="regexp">/Android/</span>.test(navigator.appVersion)) &#123;</span><br><span class="line">   <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(<span class="built_in">document</span>.activeElement.tagName==<span class="string">"INPUT"</span> || <span class="built_in">document</span>.activeElement.tagName==<span class="string">"TEXTAREA"</span>) &#123;</span><br><span class="line">       <span class="built_in">document</span>.activeElement.scrollIntoView();</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³åœ¨å®‰å“æœºä¸­é€šè¿‡ç›‘å¬å½“çª—å£resizeæ—¶ï¼Œåˆ¤æ–­å½“å‰è·å¾—ç„¦ç‚¹çš„å…ƒç´ æ˜¯å¦ä¸ºè¾“å…¥æ¡†ï¼Œå†è°ƒç”¨è¯¥å…ƒç´ çš„scrollIntoView()ï¼Œå³å°†è¯¥å…ƒç´ å±•ç¤ºåœ¨å½“å‰çª—å£çš„å¯è§†åŒºåŸŸã€‚ç”±äºåªæœ‰scrollIntoViewè¢«å„æµè§ˆå™¨å‡æ”¯æŒï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æœ€ä¸ºå¸¸ç”¨ã€‚<br>ä½¿ç”¨è¿™æ®µä»£ç ä¹‹åï¼Œåœ¨å¾®ä¿¡æˆ–è€…å…¶ä»–æµè§ˆå™¨æµ‹è¯•æ—¶æœ‰æ•ˆæœï¼Œä½†å› ä¸ºæ˜¯éœ€è¦å†…åµŒåœ¨è‡ªå®¶APPä¸Šï¼Œä½¿ç”¨è¿™æ®µä»£ç ä¸€ç›´æ²¡æœ‰è§£å†³è¾“å…¥æ¡†è¢«æŒ¡ä½çš„é—®é¢˜ï¼Œæœ€åæµ‹è¯•æ‰å‘ç°ï¼ŒAPPå†…ç½®æµè§ˆå™¨åœ¨èšç„¦è¾“å…¥æ¡†å¼¹å‡ºé”®ç›˜æ ¹æœ¬æ²¡æœ‰è§¦å‘çª—å£çš„resizeäº‹ä»¶ï¼Œç¬é—´å¿ƒä¸­ä¸‡é©¬å¥”è…¾(ï¼ï¹ï¼œ)~~~ï¼Œåé¢åœ¨å€Ÿé‰´äº†æŸé˜¿é‡Œçš„ä¸€ä¸ªç½‘é¡µç‰ˆçš„èŠå¤©ç•Œé¢ï¼Œå‘ç°å®ƒæ˜¯é€šè¿‡è·å–è¾“å…¥æ¡†ç„¦ç‚¹å°†è¾“å…¥æ¡†å®šä½åˆ°çª—å£ç•¥é«˜äºè¾“å…¥æ¡†çš„ä½ç½®ï¼Œåœ¨å¤±å»ç„¦ç‚¹é”®ç›˜å¼¹å›æ—¶å†æ¢å¤åˆ°åº•éƒ¨ï¼Œäºæ˜¯é€šè¿‡è¿™ç§æ–¹å¼å¤„ç†ï¼Œæš‚æ—¶æ¯”è¾ƒæš´åŠ›çš„è§£å†³äº†åœ¨å®‰å“ä¸Šè¯¥APPä¸Šè¾“å…¥æ¡†è¢«æŒ¡ä½çš„é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•æ˜¾ç„¶æ˜¯ä¸å®Œç¾çš„ï¼Œæ¯”å¦‚ç”±äºæ— æ³•ç›‘å¬resizeäº‹ä»¶ï¼Œè€Œä¸”ä½¿ç”¨çš„é”®ç›˜é«˜åº¦ä¸å›ºå®šï¼Œæ‰€ä»¥åªèƒ½å¤§æ¦‚çš„å°†é«˜åº¦è®¾ç½®ä¿æŒåœ¨å±å¹•ä¸€åŠåä¸Šä¸€ç‚¹ã€‚ä¿è¯ç»å¤§æ•°æƒ…å†µä¸‹è¾“å…¥æ¡†åœ¨é”®ç›˜ä¹‹ä¸Šæ˜¾ç¤ºã€‚</p><h1>IOSæ»šåŠ¨ä¸å¹³æ»‘çš„é—®é¢˜</h1><p>åœ¨ç§»åŠ¨ç«¯ç‰¹åˆ«æ˜¯iOSä¸­ï¼Œå½“æ»šåŠ¨å±å¹•æ—¶ä¼šå‘ç°æ‰‹æŒ‡ä¸€æ‹¿å¼€æ»šåŠ¨å°±åœæ­¢ï¼Œè¿™ç§ç”¨æˆ·ä½“éªŒæ•ˆæœå¾ˆä¸å¥½ï¼Œæœ‰ç§ç»™ç”¨æˆ·æ»šåŠ¨å¡é¡¿çš„æ„Ÿè§‰ã€‚CSS3ä¸­çš„-webkit-overflow-scrollingå±æ€§å¯ä»¥å®Œç¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯¥å±æ€§å¯æ§åˆ¶å…ƒç´ åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¯å¦ä½¿ç”¨æ»šåŠ¨å›å¼¹æ•ˆæœ:</p><ol><li>auto</li></ol><blockquote><p>ä½¿ç”¨æ™®é€šæ»šåŠ¨, å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ã€‚</p></blockquote><ol start="2"><li>touch</li></ol><blockquote><p>ä½¿ç”¨å…·æœ‰å›å¼¹æ•ˆæœçš„æ»šåŠ¨, å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œå†…å®¹ä¼šç»§ç»­ä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨æ•ˆæœã€‚ç»§ç»­æ»šåŠ¨çš„é€Ÿåº¦å’ŒæŒç»­çš„æ—¶é—´å’Œæ»šåŠ¨æ‰‹åŠ¿çš„å¼ºçƒˆç¨‹åº¦æˆæ­£æ¯”ã€‚åŒæ—¶ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å †æ ˆä¸Šä¸‹æ–‡ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸‰æœˆä¸­æ—¬è·³å®Œæ§½ä¹‹åå°±å¥½å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œè·³åˆ°æŸå…¬å¸ä¹‹åï¼Œæ€€æ£ç€æ»¡è…”çƒ­æ°´çš„æˆ‘åˆæŠ•å…¥äº†å·¥ä½œä¸­ï¼Œä»é¢è¯•ã€åŠç†ç¦»èŒåˆ°å…¥èŒåªç”¨äº†ä¸€ä¸ªæ˜ŸæœŸã€‚è¿™æ•ˆç‡ä¹Ÿæ²¡è°äº†ï¼Œå…¥èŒä¹‹åç»™äº†ä¸€ä¸ªå°é¡¹ç›®ï¼Œç”¨Vueå…¨å®¶æ¡¶å¼€å‘ä¸€ä¸ªç®€æ˜“çš„ä¸ªäººåšå®¢ã€‚å› ä¸ºä¹‹å‰è‡ªå­¦äº†è§£è¿‡ï¼Œäºæ˜¯å¾ˆå¿«å°±ä¸Šæ‰‹ï¼ŒåŸæœ¬è¦æ±‚ç”¨ä¸¤å‘¨çš„æ—¶é—´ç”¨äº†ä¸‰å¤©å°±å®Œæˆäº†å…¨éƒ¨çš„åŠŸèƒ½ï¼Œäºæ˜¯å°±ä¸€å‘¨ä¹‹åå°±å¼€å§‹å®‰æ’åˆ°é¡¹ç›®ç»„è¿›è¡Œå®é™…çš„å¼€å‘ä¸­äº†ï¼Œæœ€åè¢«å®‰æ’åˆ°æ‹›è˜ç»„è´Ÿè´£æ ¡æ‹›çš„å‰ç«¯å¼€å‘ã€‚ä¸€å»å°±æäº‹æƒ…ï¼Œç»™æˆ‘å®‰æ’äº†åå°ç§»åŠ¨ç«¯çš„å¼€å‘ï¼Œå°±æ˜¯ä¸ºäº†æ–¹ä¾¿é¢†å¯¼æ‰‹æœºä¸Šä½¿ç”¨ï¼ŒåŸºäºå†…éƒ¨é¡¹ç›®éƒ½æ˜¯ç”¨äº†Vueï¼Œæœ€åç¡®å®šç”¨Vue+ä¸€ä¸ªç§»åŠ¨ç«¯çš„åŸºäºVueçš„UIæ¡†æ¶Vuxè¿›è¡Œå¼€å‘ï¼Œäºæ˜¯å°±è¿›å…¥äº†ç§»åŠ¨ç«¯çš„è¸©å‘ä¹‹æ—…ï¼Œä¹‹å‰æ¯”è¾ƒå°‘æ¥è§¦ç§»åŠ¨ç«¯å¼€å‘ã€‚&lt;br&gt;
é¡¹ç›®å¼€å‘æ˜¯åŸºäºVueçš„UIæ¡†æ¶Vuxï¼Œå…¶å®å°±æ˜¯ä¸€å¥—åŸºäºWe-UIçš„ä¸€å¥—ç§»åŠ¨ç«¯UIæ¡†æ¶ï¼Œä½†æ ¹æ®å®é™…æƒ…å†µï¼Œä¸€äº›å¸ƒå±€è¿˜æ˜¯å¾—è‡ªå·±å»é‡æ„ã€‚äºæ˜¯å°±æ„‰å¿«çš„è¸©èµ·äº†ç§»åŠ¨ç«¯å¼€å‘çš„å‘ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç§»åŠ¨ç«¯webå¼€å‘" scheme="https://huangzhuangjia.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AFweb%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ä½œç”¨åŸŸä¸é—­åŒ…çš„ä¸€äºŒäº‹</title>
    <link href="https://huangzhuangjia.github.io/2017/03/05/scope-and-closure/"/>
    <id>https://huangzhuangjia.github.io/2017/03/05/scope-and-closure/</id>
    <published>2017-03-05T07:52:36.000Z</published>
    <updated>2019-01-11T09:28:59.009Z</updated>
    
    <content type="html"><![CDATA[<p>é—­åŒ…æ˜¯JavaScriptè¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå¯ä»¥è¯´å†å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒæ— å¤„ä¸åœ¨ï¼Œå³ä½¿æœ‰æ—¶å€™æˆ‘ä»¬éƒ½æ²¡æœ‰å‘ç°å®ƒçš„å­˜åœ¨ã€‚æ¥è§¦JavaScriptä»¥æ¥ï¼Œè™½ç„¶è¯´æ˜¯ä¸€ç›´æœ‰å¯¹é—­åŒ…äº†è§£ï¼Œä½†æ˜¯å®é™…åº”ç”¨èµ·æ¥æˆ–è€…åˆ†æä¸€äº›ä»£ç çš„æ—¶å€™å´æœ‰äº›åƒåŠ›ã€‚ç°åœ¨å›è¿‡å¤´æ€»ç»“ï¼Œæ‰åˆè¿›ä¸€æ­¥çš„æ­å¼€äº†é—­åŒ…çš„ä¸€å±‚é¢çº±ã€‚è€Œåœ¨è®²é—­åŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆæ˜ç™½JavaScriptä¸­åˆä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ï¼Œé‚£å°±æ˜¯JavaScriptçš„å†…å­˜æœºåˆ¶ä»¥åŠä½œç”¨åŸŸï¼Œè¿™ä¸¤ä¸ªæ˜¯æˆ‘ä»¬æœ‰æ•ˆç†è§£é—­åŒ…åŸç†çš„å‰æå§ã€‚å‰é¢æˆ‘ä»¬å·²ç»è®²äº†JavaScriptçš„å†…å­˜æœºåˆ¶ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œå…ˆç†è§£ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ã€‚</p><h1>ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾</h1><p>ä¹‹å‰æˆ‘ä»¬å·²ç»äº†è§£äº†JavaScriptå†…å­˜ä»¥åŠåƒåœ¾å›æ”¶çš„æœºåˆ¶äº†ï¼Œåœ¨è®²ä½œç”¨åŸŸä¹‹å‰ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œé‚£å°±æ˜¯JavaScriptçš„æ‰§è¡Œç¯å¢ƒäº§ç”Ÿçš„å˜é‡å¯¹è±¡ã€‚</p><a id="more"></a><h2 id="å˜é‡å¯¹è±¡"><a class="header-anchor" href="#å˜é‡å¯¹è±¡"></a>å˜é‡å¯¹è±¡</h2><p>æ‰§è¡Œç¯å¢ƒå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚è€Œæ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼ˆvariable objectï¼‰ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚è™½ç„¶æˆ‘ä»¬ç¼–å†™çš„ä»£ç æ— æ³•è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯è§£æå™¨åœ¨å¤„ç†æ•°æ®æ—¶ä¼šåœ¨åå°å¤„ç†å®ƒä»¬ã€‚</p><p>JavaScriptçš„è¿è¡Œç¯å¢ƒå¤§æ¦‚æœ‰ä¸‰ç§ï¼š</p><ol><li>å…¨å±€ç¯å¢ƒï¼šå…¨å±€ç¯å¢ƒæ˜¯æœ€å¤–å›´çš„ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚åœ¨webæµè§ˆå™¨ä¸­ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒè¢«è®¤ä¸ºæ˜¯windowå¯¹è±¡ï¼Œå› æ­¤æ‰€æœ‰çš„å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šä½œä¸ºwindowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•åˆ›å»ºçš„ï¼›</li><li>å±€éƒ¨ç¯å¢ƒï¼šé€šå¸¸æ˜¯å‡½æ•°å†…éƒ¨åˆ›å»ºçš„æ‰§è¡Œç¯å¢ƒã€‚</li><li>eval</li></ol><p>å˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼š</p><ol><li>åˆ›å»ºargumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰æ‰§è¡Œç¯å¢ƒä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±æ€§ä¸å±æ€§å€¼ã€‚</li><li>æ£€æŸ¥å½“å‰æ‰§è¡Œç¯å¢ƒä¸­çš„å‡½æ•°å£°æ˜ï¼Œå³functionå…³é”®å­—çš„å‡½æ•°å£°æ˜ï¼Œåœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå…¶å€¼æ˜¯æŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚è‹¥å‡½æ•°åå·²ç»å­˜åœ¨ï¼Œåˆ™æ”¹å±æ€§å°†ä¼šè¢«æ–°çš„å¼•ç”¨è¯´è¦†ç›–ã€‚</li><li>æ£€æŸ¥å½“å‰æ‰§è¡Œç¯å¢ƒä¸­çš„å˜é‡å£°æ˜ï¼Œåœ¨å˜é‡å¯¹è±¡ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå¹¶åˆå§‹åŒ–ä¸ºundefinedã€‚</li></ol><div align="center">    <img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img05.png?raw=true" alt="å˜é‡å¯¹è±¡"></div><p>æˆ‘ä»¬ç»å¸¸è¯´åˆ°çš„å˜é‡æå‡ï¼Œå‡½æ•°ä¼˜å…ˆæå‡å°±æ˜¯è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼Œåœ¨æ¯ä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„å˜é‡å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™éƒ½ä¼šç»å†è¿™å‡ ä¸ªæ­¥éª¤ã€‚<br>è€Œå½“æŸä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥ç¯å¢ƒè¢«é”€æ¯ï¼Œä¿å­˜åœ¨å…¶ä¸­çš„å˜é‡å’Œå‡½æ•°å®šä¹‰ä¹Ÿéšä¹‹é”€æ¯ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒç›´åˆ°åº”ç”¨ç¨‹åºé€€å‡ºæ¯”å¦‚æµè§ˆå™¨å…³é—­æ—¶æ‰ä¼šé”€æ¯ã€‚</p><h2 id="ä½œç”¨åŸŸ"><a class="header-anchor" href="#ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><p>äº†è§£äº†å˜é‡å¯¹è±¡ä¹‹åï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œç»™ä½œç”¨åŸŸä¸€ä¸ªå®šä¹‰ï¼Œä½œç”¨åŸŸå°±æ˜¯ç”¨æ¥ç®¡ç†JavaScriptå¼•æ“å¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸä»¥åŠåµŒå¥—çš„å­ä½œç”¨åŸŸä¸­æ ¹æ®æ ‡è¯†ç¬¦åç§°ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯å˜é‡åå’Œå‡½æ•°åï¼‰è¿›è¡Œå˜é‡æŸ¥æ‰¾çš„ä¸€å¥—è§„åˆ™ã€‚è¯´çš„ç®€å•ç‚¹å°±æ˜¯ä½œç”¨åŸŸå°±æ˜¯å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œå®ƒæ§åˆ¶ç€å˜é‡ä¸å‡½æ•°çš„å¯è§æ€§ä¸ç”Ÿå‘½å‘¨æœŸã€‚</p><p>JavaScriptä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä»£ç ç¼–è¯‘é˜¶æ®µä¸ä»£ç æ‰§è¡Œé˜¶æ®µã€‚ç¼–è¯‘é˜¶æ®µç”±ç¼–è¯‘å™¨æ‰§è¡Œå®Œæˆï¼Œå°†ä»£ç ç¼–è¯‘æˆå¯æ‰§è¡Œä»£ç ï¼Œå¹¶ç¡®ç«‹ä½œç”¨åŸŸçš„è§„åˆ™ã€‚æ‰§è¡Œé˜¶æ®µç”±å¼•æ“å®Œæˆï¼Œä¸»è¦æ˜¯æ‰§è¡Œå¯æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡åœ¨è¿™ä¸ªé˜¶æ®µåˆ›å»ºã€‚</p><p><img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img06.png?raw=true" alt="æ‰§è¡Œè¿‡ç¨‹"></p><p>æˆ‘ä»¬ä¸¾ä¸€ä¸ªç®€å•ç²—æš´çš„ğŸŒ°è§£é‡Šä¸€ä¸‹å¼•æ“ã€ç¼–è¯‘å™¨å’Œä½œç”¨åŸŸæ˜¯å¦‚ä½•ååŒå·¥ä½œçš„å°±æ˜ç™½äº†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br></pre></td></tr></table></figure><p>JavaScriptæ‰§è¡Œä¸Šé¢ä»£ç çš„æ—¶å€™ä¼šå°†å…¶çœ‹æˆæ˜¯ä¸¤ä¸ªå£°æ˜ï¼Œä¸€ä¸ªæ˜¯ç¼–è¯‘é˜¶æ®µçš„å®šä¹‰å£°æ˜ï¼Œä¸€ä¸ªæ˜¯å¼•æ“æ‰§è¡Œé˜¶æ®µçš„èµ‹å€¼å£°æ˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ†è§£æˆï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a=<span class="number">10</span>;</span><br></pre></td></tr></table></figure><ol><li>ç¼–è¯‘é˜¶æ®µï¼šâ€œç¼–è¯‘å™¨&quot;ä¼šè¯¢é—®&quot;ä½œç”¨åŸŸâ€ï¼šå½“å‰çš„ä½œç”¨åŸŸä¸­æ˜¯å¦å·²ç»æœ‰å˜é‡aï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆ&quot;ç¼–è¯‘å™¨&quot;ä¼šå¿½ç•¥è¿™ä¸ªå£°æ˜ï¼Œç»§ç»­è¿›è¡Œç¼–è¯‘ï¼›å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå®ƒä¼šè¦æ±‚â€œä½œç”¨åŸŸâ€åœ¨å½“å‰çš„ä½œç”¨åŸŸå£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œå¹¶å‘½åä¸ºa;</li><li>æ‰§è¡Œé˜¶æ®µï¼šâ€œå¼•æ“&quot;å¤„ç†a = 10æ—¶ï¼Œé¦–å…ˆä¼šè¯¢é—®&quot;ä½œç”¨åŸŸâ€ï¼šå½“å‰çš„ä½œç”¨åŸŸä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªaçš„å˜é‡ï¼Œå¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆå¼•æ“å°±ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œå¦‚æœå¦ï¼Œé‚£ä¹ˆ&quot;å¼•æ“&quot;ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚å¦‚æœ&quot;å¼•æ“&quot;æœ€ç»ˆæ‰¾åˆ°äº†aå˜é‡ï¼Œé‚£ä¹ˆå°±å°†10èµ‹å€¼ç»™å®ƒï¼Œå¦åˆ™&quot;å¼•æ“&quot;å°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</li><li>æ€»ç»“ä¸€ä¸‹å˜é‡èµ‹å€¼æ“ä½œè¿‡ç¨‹ï¼Œå³ï¼šé¦–å…ˆç¼–è¯‘å™¨ä¼šåœ¨å½“å‰ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶ï¼Œå¼•æ“ä¼šåœ¨ä½œç”¨åŸŸä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½å¤Ÿæ‰¾åˆ°å°±å¯¹å®ƒèµ‹å€¼ï¼Œå¦åˆ™å°±æŠ›å‡ºå¼‚å¸¸ã€‚</li></ol><blockquote><p>ç¼–è¯‘é˜¶æ®µæ˜¯åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­å£°æ˜å˜é‡ï¼Œè€Œå¼•æ“æŸ¥æ‰¾æ—¶ï¼Œæ˜¯åœ¨æ•´ä¸ªä½œç”¨åŸŸä¸­æŸ¥æ‰¾è¯¥å˜é‡ã€‚</p></blockquote><h2 id="ä½œç”¨åŸŸé“¾"><a class="header-anchor" href="#ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>ä¸Šé¢æˆ‘ä»¬è®²äº†ï¼Œå¼•æ“åœ¨æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œæ˜¯åœ¨æ•´ä¸ªä½œç”¨åŸŸä¸­æŸ¥æ‰¾çš„ï¼Œåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ‰¾ä¸åˆ°å®ƒä¼šç»§ç»­å¾€ä¸Šä¸€å±‚ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œç›´è‡³åˆ°é¡¶å±‚ä½œç”¨åŸŸå³å…¨å±€ä½œç”¨åŸŸã€‚è€Œè¿™ä¸€ä¸ªè¿‡ç¨‹ä¸­å°±äº§ç”Ÿäº†æˆ‘ä»¬æ‰€è¯´çš„ä½œç”¨åŸŸé“¾ï¼Œä½œç”¨åŸŸé“¾æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºçš„æ—¶å€™äº§ç”Ÿçš„ã€‚</p><p><img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img07.png?raw=true" alt="æ‰§è¡Œè¿‡ç¨‹"></p><p>æˆ‘ä»¬è¯´ä½œç”¨åŸŸæ˜¯JavaScriptç¼–è¯‘æ‰§è¡Œçš„ä¸€å¥—è§„åˆ™ï¼Œé‚£ä¹ˆä½œç”¨åŸŸé“¾å°±æ˜¯è¿™ä¸ªè§„åˆ™çš„ä¸€ç§å…·ä½“ä½“ç°ã€‚</p><blockquote><p>ä½œç”¨åŸŸé“¾æ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯å§‹ç»ˆæ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡ã€‚è€Œå‰é¢æˆ‘ä»¬å·²ç»è®²äº†å˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚ä½œç”¨åŸŸé“¾çš„ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡æ¥è‡ªåŒ…å«ç¯å¢ƒå³å¤–éƒ¨ç¯å¢ƒï¼Œè¿™æ ·ï¼Œä¸€ç›´å»¶ç»­åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼›å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚</p></blockquote><h1>é—­åŒ…</h1><h2 id="å®šä¹‰"><a class="header-anchor" href="#å®šä¹‰"></a>å®šä¹‰</h2><p>ç†è§£äº†ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹é—­åŒ…çš„ä¸€äº›å®šä¹‰ï¼š</p><p>MDN å¯¹é—­åŒ…çš„å®šä¹‰ï¼š</p><blockquote><p>é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®ç‹¬ç«‹ï¼ˆè‡ªç”±ï¼‰å˜é‡çš„å‡½æ•°ï¼ˆå˜é‡åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œä½†å®šä¹‰åœ¨ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸä¸­ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œè¿™äº›å‡½æ•°å¯ä»¥ã€Œè®°å¿†ã€å®ƒè¢«åˆ›å»ºæ—¶å€™çš„ç¯å¢ƒã€‚</p></blockquote><p>ã€ŠJavaScript æƒå¨æŒ‡å—(ç¬¬6ç‰ˆ)ã€‹å¯¹é—­åŒ…çš„å®šä¹‰ï¼š</p><blockquote><p>å‡½æ•°å¯¹è±¡å¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾ç›¸äº’å…³è”èµ·æ¥ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å˜é‡éƒ½å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†…ï¼Œè¿™ç§ç‰¹æ€§åœ¨è®¡ç®—æœºç§‘å­¦æ–‡çŒ®ä¸­ç§°ä¸ºé—­åŒ…ã€‚</p></blockquote><p>ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬3ç‰ˆ)ã€‹å¯¹é—­åŒ…çš„å®šä¹‰ï¼š</p><blockquote><p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</p></blockquote><p>æœ€åæ˜¯é˜®ä¸€å³°è€å¸ˆå¯¹é—­åŒ…çš„è§£é‡Šï¼š</p><blockquote><p>ç”±äºåœ¨ Javascript è¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°ã€‚</p></blockquote><p>ä»ä»¥ä¸Šå®šä¹‰æˆ‘ä»¬å¯ä»¥æ€»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¢«ä¸€ä¸ªå¤–éƒ¨å‡½æ•°æ‰€åŒ…å«ï¼Œæ ¹æ®ä¸Šé¢æˆ‘ä»¬è®²åˆ°çš„ä½œç”¨åŸŸé“¾åªæ˜¯æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“å‰è¢«åŒ…å«çš„å‡½æ•°å†…éƒ¨ï¼ˆå³å½“å‰çš„æ‰§è¡Œç¯å¢ƒï¼‰æ˜¯æœ‰æƒè®¿é—®å®ƒå¤–éƒ¨å‡½æ•°ï¼ˆå¤–éƒ¨çš„æ‰§è¡Œç¯å¢ƒï¼‰çš„å˜é‡å¯¹è±¡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„é—­åŒ…äº†ã€‚åŸæ¥å¯¹é—­åŒ…çš„ç†è§£å°±æ˜¯è¿™ä¹ˆçš„é€šç•…ï¼Œå“ˆå“ˆğŸ˜†ã€‚</p><h2 id="é—­åŒ…çš„ç”¨é€”"><a class="header-anchor" href="#é—­åŒ…çš„ç”¨é€”"></a>é—­åŒ…çš„ç”¨é€”</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ï¼Œå±€éƒ¨çš„æ´»åŠ¨å¯¹è±¡å°±ä¼šé€€å‡ºæ‰§è¡Œæ ˆï¼Œéšåå°±ä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯é—­åŒ…åˆ™ä¸æ˜¯é…±ç´«çš„ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªğŸŒ°ï¼ˆå›¾ç”»çš„æœ‰ç‚¹ä¸‘ï¼Œå°†å°±ç€çœ‹å§å“ˆå“ˆï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"Junga"</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> greet = <span class="string">'Hello '</span>+ name;</span><br><span class="line">        <span class="built_in">console</span>.log(greet);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fun1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = fun();</span><br><span class="line">result();</span><br></pre></td></tr></table></figure><div align="center">    <img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img08.png?raw=true" alt="æ‰§è¡Œè¿‡ç¨‹"></div><p>ä¸Šå›¾å±•ç¤ºçš„æ˜¯è°ƒç”¨å‡½æ•°fun()çš„è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä½œç”¨åŸŸé“¾ä¹‹é—´çš„å…³ç³»ã€‚ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œå®ƒåªå¼•ç”¨ä½†ä¸å®é™…åŒ…å«å˜é‡å¯¹è±¡ã€‚ä¸Šé¢ä»£ç å¾ˆæ˜æ˜¾ï¼Œfun1()å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå› ä¸ºå®ƒçš„ä½œç”¨åŸŸé“¾åŒ…å«äº†å¤–éƒ¨å‡½æ•°fun()çš„æ´»åŠ¨å¯¹è±¡ï¼Œé‚£ä¸ºä»€ä¹ˆé—­åŒ…åœ¨è¿è¡Œå®Œä¹‹åä¸ä¼šè¢«é”€æ¯å‘¢ï¼Ÿä¸‹é¢è§£é‡Šä¸€ä¸‹ï¼š</p><p>åœ¨å‡½æ•°fun()ä¸­ï¼Œè¿”å›äº†å†…éƒ¨å‡½æ•°fun1()ï¼Œå®ƒçš„ä½œç”¨åŸŸé“¾è¢«åˆå§‹åŒ–ä¸ºåŒ…å«fun()å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ã€‚å› æ­¤ï¼Œfun1()å°±å¯ä»¥è®¿é—®fun()ä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡ã€‚æ¥ä¸‹æ¥æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼Œfun()å‡½æ•°åœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åå…¶æ´»åŠ¨å¯¹è±¡ä¹Ÿä¸ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºé—­åŒ…fun1()çš„ä½œç”¨åŸŸé“¾ä»ç„¶åœ¨å¼•ç”¨è¿™ä¸ªæ´»åŠ¨å¯¹è±¡ã€‚æ¢å¥è¯è¯´ï¼Œå½“fun()å‡½æ•°è¿”å›åï¼Œå…¶æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾ä¼šè¢«é”€æ¯ï¼Œä½†å®ƒçš„æ´»åŠ¨å¯¹è±¡ä»ç„¶ä¼šç•™åœ¨å†…å­˜ä¸­ï¼Œç›´åˆ°é—­åŒ…fun1()è¢«é”€æ¯åï¼Œfun()çš„æ´»åŠ¨å¯¹è±¡æ‰ä¼šè¢«é”€æ¯ã€‚ä¾‹å¦‚å½“ä¸Šé¢çš„resultè¢«èµ‹å€¼ä¸ºnullæ—¶ï¼Œæ­¤æ—¶é—­åŒ…fun1()å°±è¢«è§£é™¤äº†å¼•ç”¨ï¼Œéšåè¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶ï¼Œæœ€åé‡Šæ”¾å…¶å†…å­˜ã€‚</p><blockquote><p>å› æ­¤ï¼Œå¯ä»¥æ€»ç»“å‡ºé—­åŒ…æœ‰ä¸¤å¤§ç”¨é€”ï¼š1ã€å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼›2ã€å¯ä»¥è®©å‡½æ•°å†…éƒ¨çš„å˜é‡å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­ã€‚<br>æ³¨æ„ï¼šç”±äºé—­åŒ…ä¼šæºå¸¦åŒ…å«å®ƒçš„å‡½æ•°çš„ä½œç”¨åŸŸï¼Œå› æ­¤ä¼šæ¯”å…¶ä»–å‡½æ•°å ç”¨æ›´å¤šçš„å†…å­˜ï¼Œè¿‡åº¦ä½¿ç”¨é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é—­åŒ…æ˜¯JavaScriptè¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå¯ä»¥è¯´å†å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒæ— å¤„ä¸åœ¨ï¼Œå³ä½¿æœ‰æ—¶å€™æˆ‘ä»¬éƒ½æ²¡æœ‰å‘ç°å®ƒçš„å­˜åœ¨ã€‚æ¥è§¦JavaScriptä»¥æ¥ï¼Œè™½ç„¶è¯´æ˜¯ä¸€ç›´æœ‰å¯¹é—­åŒ…äº†è§£ï¼Œä½†æ˜¯å®é™…åº”ç”¨èµ·æ¥æˆ–è€…åˆ†æä¸€äº›ä»£ç çš„æ—¶å€™å´æœ‰äº›åƒåŠ›ã€‚ç°åœ¨å›è¿‡å¤´æ€»ç»“ï¼Œæ‰åˆè¿›ä¸€æ­¥çš„æ­å¼€äº†é—­åŒ…çš„ä¸€å±‚é¢çº±ã€‚è€Œåœ¨è®²é—­åŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆæ˜ç™½JavaScriptä¸­åˆä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ï¼Œé‚£å°±æ˜¯JavaScriptçš„å†…å­˜æœºåˆ¶ä»¥åŠä½œç”¨åŸŸï¼Œè¿™ä¸¤ä¸ªæ˜¯æˆ‘ä»¬æœ‰æ•ˆç†è§£é—­åŒ…åŸç†çš„å‰æå§ã€‚å‰é¢æˆ‘ä»¬å·²ç»è®²äº†JavaScriptçš„å†…å­˜æœºåˆ¶ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œå…ˆç†è§£ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ã€‚&lt;/p&gt;
&lt;h1&gt;ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾&lt;/h1&gt;
&lt;p&gt;ä¹‹å‰æˆ‘ä»¬å·²ç»äº†è§£äº†JavaScriptå†…å­˜ä»¥åŠåƒåœ¾å›æ”¶çš„æœºåˆ¶äº†ï¼Œåœ¨è®²ä½œç”¨åŸŸä¹‹å‰ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œé‚£å°±æ˜¯JavaScriptçš„æ‰§è¡Œç¯å¢ƒäº§ç”Ÿçš„å˜é‡å¯¹è±¡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://huangzhuangjia.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>flexboxå­¦ä¹ å°è®°</title>
    <link href="https://huangzhuangjia.github.io/2017/02/23/flexbox/"/>
    <id>https://huangzhuangjia.github.io/2017/02/23/flexbox/</id>
    <published>2017-02-23T09:21:56.000Z</published>
    <updated>2019-01-11T09:30:24.507Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºç°åœ¨çš„å…¬å¸è¦æ±‚å¸ƒå±€çš„å…¼å®¹æ€§è¦å…¼å®¹åˆ°è‡³å°‘IE7ï¼Œæ‰€ä»¥å¯¹äºflexboxè¿™ç§å¸ƒå±€ä¹Ÿæ²¡æœ‰äº†è§£å¤ªå¤šï¼Œä¹‹å‰æœ‰å¬è¯´è¿‡flexå¸ƒå±€ï¼Œå¬èµ·æ¥æ˜¯ä¸€ç§æ¯”è¾ƒé«˜å¤§ä¸Šï¼Œå¯ä»¥è‡ªé€‚åº”ä¸åŒå°ºå¯¸å±å¹•çš„å¸ƒå±€æ–¹å¼ï¼Œä½†æ˜¯æ²¡æœ‰æ­£å¼çš„å»å­¦ä¹ äº†è§£ã€‚flexboxæ˜¯CSS3ç®—æ˜¯æ¯”è¾ƒæ–°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæœ€è¿‘åˆšå¥½æœ‰æ—¶é—´ä¹Ÿæœ‰å…´è¶£å°±äº†è§£äº†ï¼Œè§‰å¾—è¿˜æ˜¯è¦åšä¸€ä¸‹æ€»ç»“ï¼Œä¸ç„¶å¾ˆå¿«åˆå¿˜äº†ğŸ˜°ã€‚</p><p>flexboxå¸ƒå±€æ„ä¸ºå¼¹æ€§å¸ƒå±€ï¼Œæ˜¯css3çš„å¼¹æ€§ç›’å­æ¨¡å¼ï¼Œç”¨å®ƒå¯ä»¥å‘Šåˆ«floatå¸ƒå±€ï¼Œä¹Ÿå¯ä»¥ç®€å•å®ç°å‚ç›´å±…ä¸­ï¼Œå¹¶ä¸”å…·æœ‰å“åº”å¼ï¼Œå°±æ˜¯å¯ä»¥è‡ªåŠ¨è°ƒæ•´ï¼Œè®¡ç®—å…ƒç´ åœ¨å®¹å™¨ç©ºé—´ä¸­çš„å¤§å°ï¼Œå¯ä»¥è¯´ï¼šå®Œç¾~~~ï¼ˆæ­¤å¤„åº”æœ‰æ ‡å¿—æ€§åŠ¨ä½œ)</p><blockquote><p>Flexå¸ƒå±€èƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯ç»™å®¹å™¨æ§åˆ¶é¡¹ç›®ï¼ˆFlexé¡¹ç›®ï¼‰çš„å®½åº¦ã€é«˜åº¦çš„èƒ½åŠ›ï¼Œä½¿ç”¨Flexé¡¹ç›®å¯ä»¥è‡ªåŠ¨å¡«æ»¡å®¹å™¨çš„å¯ç”¨ç©ºé—´ï¼ˆä¸»è¦æ˜¯é€‚åº”æ‰€æœ‰ç±»å‹çš„æ˜¾ç¤ºè®¾å¤‡å’Œå±å¹•å¤§å°ï¼‰ã€‚Flexå®¹å™¨ä½¿ç”¨Flexé¡¹ç›®å¯ä»¥è‡ªåŠ¨æ”¾å¤§ä¸æ”¶ç¼©ï¼Œç”¨æ¥å¡«è¡¥å¯ç”¨çš„ç©ºé—²ç©ºé—´ã€‚</p></blockquote><a id="more"></a><p>å…ˆçœ‹ä¸‹flexboxå¸ƒå±€å¯¹å„å¤§æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µï¼ŒåŸºæœ¬ä¹Ÿå°±å‘Šåˆ«ä½ç‰ˆæœ¬çš„æµè§ˆå™¨äº†ï¼š</p><div align="center">  <img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img04.jpeg?raw=true" alt="å…¼å®¹æ€§ç¤ºæ„å›¾"></div><p>ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•äº†è§£ä¸€ä¸‹flexå¸ƒå±€çš„åŸºæœ¬æ¦‚å¿µï¼š</p><h1>flexé¡¹ç›®æ’åˆ—æ–¹å¼ï¼š</h1><div align="center"> <img src="http://www.w3cplus.com/sites/default/files/blogs/2015/1504/flexbox.png" alt="ç¤ºæ„å›¾"></div><ul><li>main axis:Flexå®¹å™¨çš„ä¸»è½´ä¸»è¦ç”¨æ¥é…ç½®Flexé¡¹ç›®ã€‚æ³¨æ„ï¼Œå®ƒä¸ä¸€å®šæ˜¯æ°´å¹³ï¼Œè¿™ä¸»è¦å–å†³äºflex-directionå±æ€§ã€‚</li><li>main-start | main-end:Flexé¡¹ç›®çš„é…ç½®ä»å®¹å™¨çš„ä¸»è½´èµ·ç‚¹è¾¹å¼€å§‹ï¼Œå¾€ä¸»è½´ç»ˆç‚¹è¾¹ç»“æŸã€‚</li><li>main size:Flexé¡¹ç›®çš„åœ¨ä¸»è½´æ–¹å‘çš„å®½åº¦æˆ–é«˜åº¦å°±æ˜¯é¡¹ç›®çš„ä¸»è½´é•¿åº¦ï¼ŒFlexé¡¹ç›®çš„ä¸»è½´é•¿åº¦å±æ€§æ˜¯widthæˆ–heightå±æ€§ï¼Œç”±å“ªä¸€ä¸ªå¯¹ç€ä¸»è½´æ–¹å‘å†³å®šã€‚</li><li>cross axis:ä¸ä¸»è½´å‚ç›´çš„è½´ç§°ä½œä¾§è½´ï¼Œæ˜¯ä¾§è½´æ–¹å‘çš„å»¶ä¼¸ã€‚</li><li>cross-start | cross-end:ä¼¸ç¼©è¡Œçš„é…ç½®ä»å®¹å™¨çš„ä¾§è½´èµ·ç‚¹è¾¹å¼€å§‹ï¼Œå¾€ä¾§è½´ç»ˆç‚¹è¾¹ç»“æŸã€‚</li><li>cross size:Flexé¡¹ç›®çš„åœ¨ä¾§è½´æ–¹å‘çš„å®½åº¦æˆ–é«˜åº¦å°±æ˜¯é¡¹ç›®çš„ä¾§è½´é•¿åº¦ï¼ŒFlexé¡¹ç›®çš„ä¾§è½´é•¿åº¦å±æ€§æ˜¯widthæˆ–heightå±æ€§ï¼Œç”±å“ªä¸€ä¸ªå¯¹ç€ä¾§è½´æ–¹å‘å†³å®šã€‚</li></ul><h1>flexå¸ƒå±€æ‹¥æœ‰çš„å±æ€§ï¼š</h1><h2 id="çˆ¶å®¹å™¨çš„å±æ€§"><a class="header-anchor" href="#çˆ¶å®¹å™¨çš„å±æ€§"></a>çˆ¶å®¹å™¨çš„å±æ€§</h2><ul><li>display:flex | inline-flexã€‚ è¡¨æ˜è¿™ä¸ªå®¹å™¨æ˜¯flexå¸ƒå±€ã€‚flexæ˜¯å—ä¼¸ç¼©å®¹å™¨ï¼Œinline-flexæ˜¯å†…è”ä¼¸ç¼©å®¹å™¨ã€‚</li><li>flex-direction: row | row-reverse | column | column-reverse; è¡¨æ˜å®¹å™¨é‡Œé¢çš„å­å…ƒç´ çš„æ’åˆ—æ–¹å‘ã€‚</li><li>flex-wrap: nowrap | wrap | wrap-reverse; å¦‚æœå­å…ƒç´ æº¢å‡ºçˆ¶å®¹å™¨çš„æ—¶å€™æ˜¯å¦è¿›è¡Œæ¢è¡Œã€‚</li><li>justify-content: flex-start | flex-end | center | space-between | space-around; è¿™ä¸€ä¸ªå®¹å™¨å­å…ƒç´ æ¨ªå‘æ’ç‰ˆåœ¨å®¹å™¨çš„å“ªä¸ªä½ç½®</li><li>align-items: flex-start | flex-end | center | baseline | stretch; è¿™ä¸ªå®¹å™¨å­å…ƒç´ çºµå‘æ’ç‰ˆåœ¨å®¹å™¨çš„å“ªä¸ªä½ç½®</li><li>align-content: flex-start | flex-end | center | space-between | space-around | stretch; å½“å®¹å™¨å†…æœ‰å¤šè¡Œé¡¹ç›®çš„æ—¶å€™ï¼Œé¡¹ç›®çš„å¸ƒå±€</li></ul><h2 id="å­å…ƒç´ çš„å±æ€§"><a class="header-anchor" href="#å­å…ƒç´ çš„å±æ€§"></a>å­å…ƒç´ çš„å±æ€§</h2><ul><li>order: ; å­å…ƒç´ çš„æ’åº</li><li>flex-grow: ; åˆ†é…å‰©ä½™ç©ºé—´çš„æ¯”ä¾‹</li><li>flex-shrink: ; åˆ†é…æº¢å‡ºç©ºé—´çš„æ¯”ä¾‹</li><li>flex-basis: | auto;</li><li>flex: none | [ &lt;â€˜flex-growâ€™&gt; &lt;â€˜flex-shrinkâ€™&gt;? || &lt;â€˜flex-basisâ€™&gt; ] åœ¨å®¹å™¨ä¸­å æ¯”</li><li>align-self: auto | flex-start | flex-end | center | baseline | stretch; ç‰¹å®šæŸä¸ªå­å…ƒç´ çš„æ’å¸ƒæƒ…å†µ</li></ul><h1>å±æ€§è¯¦è§£</h1><h2 id="flexå®¹å™¨å±æ€§ï¼š"><a class="header-anchor" href="#flexå®¹å™¨å±æ€§ï¼š"></a>Flexå®¹å™¨å±æ€§ï¼š</h2><h3 id="displayå±æ€§"><a class="header-anchor" href="#displayå±æ€§"></a>displayå±æ€§</h3><p>displayå®šä¹‰äº†ä¸€ä¸ªFlexå®¹å™¨ï¼Œä¸ºå…¶å†…å®¹å»ºç«‹æ–°çš„ä¼¸ç¼©æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚å…¶ä¸­flexæ˜¯å—ä¼¸ç¼©å®¹å™¨ï¼Œinline-flexæ˜¯å†…è”ä¼¸ç¼©å®¹å™¨ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;<span class="comment">/* or inline-flex*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå…ƒç´ displayçš„å€¼æŒ‡å®šä¸ºinline-flexï¼Œè€Œä¸”å…ƒç´ æ˜¯ä¸€ä¸ªæµ®åŠ¨å…ƒç´ æˆ–ç»å¯¹å®šä½å…ƒç´ ï¼Œåˆ™displayçš„è®¡ç®—å€¼æ˜¯flexã€‚</p></blockquote><h3 id="flex-directionå±æ€§"><a class="header-anchor" href="#flex-directionå±æ€§"></a>flex-directionå±æ€§</h3><p>flex-directionå®šä¹‰äº†flexå®¹å™¨é‡Œé¢çš„flexé¡¹ç›®çš„æ’åˆ—æ–¹å‘ï¼Œæ°´å¹³æ’åˆ—å’Œç«–ç›´æ’åˆ—</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123; </span><br><span class="line">  <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>row(é»˜è®¤å€¼): ä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œä»å·¦å‘å³æ’åˆ—</li><li>row-reverse: ä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œä»å³å‘å·¦æ’åˆ—</li><li>column: ä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œä»ä¸Šåˆ°ä¸‹æ’åˆ—</li><li>column-reverse: ä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œä»ä¸‹å‘ä¸Šæ’åˆ—</li></ul><h3 id="flex-wrapå±æ€§"><a class="header-anchor" href="#flex-wrapå±æ€§"></a>flex-wrapå±æ€§</h3><p>flex-wrapå®šä¹‰äº†å½“ä¸€è¡Œæˆ–è€…ä¸€åˆ—æ’ä¸ä¸Šï¼Œflexé¡¹ç›®æ˜¯å¦æ¢è¡Œï¼Œé»˜è®¤æ˜¯ä¸æ¢è¡Œã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>nowrap(é»˜è®¤å€¼): å•è¡Œæ˜¾ç¤ºä¸æ¢è¡Œ</li></ul><p><img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img01.jpeg?raw=true" alt="ç¤ºæ„å›¾"></p><ul><li>wrap: å¤šè¡Œæ˜¾ç¤ºæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹</li></ul><p><img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img02.jpeg?raw=true" alt="ç¤ºæ„å›¾"></p><ul><li>wrap-reverse: å¤šè¡Œæ˜¾ç¤ºæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹</li></ul><p><img src="https://github.com/huangzhuangjia/BlogImages/blob/master/img/img03.jpeg?raw=true" alt="ç¤ºæ„å›¾"></p><h3 id="flex-flowå±æ€§"><a class="header-anchor" href="#flex-flowå±æ€§"></a>flex-flowå±æ€§</h3><p>flex-flowæ˜¯flex-directionå±æ€§å’Œflex-wrapå±æ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸ºrow nowrapã€‚é“ç†å°±è·Ÿborder: 1px solid redç±»ä¼¼ï¼Œå¤šä¸ªå€¼å†™åœ¨åŒä¸€è¡Œã€‚</p><h3 id="justify-contentå±æ€§"><a class="header-anchor" href="#justify-contentå±æ€§"></a>justify-contentå±æ€§</h3><p>justify-contentå®šä¹‰äº†flexé¡¹ç›®åœ¨flexå®¹å™¨ä¸»è½´ä¸­çš„å¯¹é½æ–¹å¼ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">container</span>&#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: &#123;flex-start | flex-end | center | space-between | space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center">  <img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071010.png" alt="ç¤ºæ„å›¾"></div><ul><li>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šflexé¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šè¿›è¡Œå·¦å¯¹é½</li><li>flex-endï¼šflexé¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šè¿›è¡Œå³å¯¹é½</li><li>centerï¼š flexé¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šè¿›è¡Œå±…ä¸­</li><li>space-betweenï¼šflexé¡¹ç›®ä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚</li><li>space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li></ul><h3 id="align-itemså±æ€§"><a class="header-anchor" href="#align-itemså±æ€§"></a>align-itemså±æ€§</h3><p>align-itemså®šä¹‰äº†flexé¡¹ç›®åœ¨flexå®¹å™¨ç«–è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚ç±»ä¼¼justify-contentå±æ€§ï¼Œåªä¸è¿‡æ˜¯æ–¹å‘ä¸åŒã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">container</span>&#123;</span><br><span class="line">  <span class="attribute">align-items</span>: &#123;flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center">  <img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071011.png" alt="ç¤ºæ„å›¾"></div><ul><li>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šflexé¡¹ç›®åœ¨flexå®¹å™¨ç«–è½´æ–¹å‘èµ·ç‚¹å¯¹é½ã€‚</li><li>flex-endï¼šflexé¡¹ç›®åœ¨flexå®¹å™¨ç«–è½´æ–¹å‘ç»ˆç‚¹å¯¹é½ã€‚</li><li>centerï¼šflexé¡¹ç›®åœ¨flexå®¹å™¨ç«–è½´æ–¹å‘ä¸­ç‚¹å¯¹é½ã€‚</li><li>baseline: é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚</li><li>stretchï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚</li></ul><h3 id="align-contentå±æ€§"><a class="header-anchor" href="#align-contentå±æ€§"></a>align-contentå±æ€§</h3><p>align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å½“ä¼¸ç¼©å®¹å™¨çš„ä¾§è½´è¿˜æœ‰å¤šä½™ç©ºé—´æ—¶ï¼Œalign-contentå±æ€§å¯ä»¥ç”¨æ¥è°ƒå‡†ä¼¸ç¼©è¡Œåœ¨ä¼¸ç¼©å®¹å™¨é‡Œçš„å¯¹é½æ–¹å¼ï¼Œè¿™ä¸è°ƒå‡†ä¼¸ç¼©é¡¹ç›®åœ¨ä¸»è½´ä¸Šå¯¹é½æ–¹å¼çš„justify-contentå±æ€§ç±»ä¼¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">container</span>&#123;</span><br><span class="line">  <span class="attribute">align-items</span>: &#123;flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center">  <img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071012.png" alt="ç¤ºæ„å›¾"></div><ul><li>flex-startï¼šä¸ç«–è½´æ–¹å‘çš„èµ·ç‚¹å¯¹é½ã€‚</li><li>flex-endï¼šä¸ç«–è½´æ–¹å‘çš„ç»ˆç‚¹å¯¹é½ã€‚</li><li>centerï¼šä¸ç«–è½´æ–¹å‘çš„ä¸­ç‚¹å¯¹é½ã€‚</li><li>space-betweenï¼šä¸ç«–è½´çš„ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒã€‚</li><li>space-aroundï¼šæ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li><li>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè½´çº¿å æ»¡æ•´ä¸ªç«–è½´æ–¹å‘ã€‚</li></ul><h2 id="flexé¡¹ç›®å±æ€§ï¼š"><a class="header-anchor" href="#flexé¡¹ç›®å±æ€§ï¼š"></a>Flexé¡¹ç›®å±æ€§ï¼š</h2><h3 id="orderå±æ€§"><a class="header-anchor" href="#orderå±æ€§"></a>orderå±æ€§</h3><p>orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: &lt;integer&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ®orderé‡æ–°æ’åºä¼¸ç¼©é¡¹ç›®ã€‚æœ‰æœ€å°ï¼ˆè´Ÿå€¼æœ€å¤§ï¼‰orderçš„ä¼¸ç¼©é¡¹ç›®æ’åœ¨ç¬¬ä¸€ä¸ªã€‚è‹¥æœ‰å¤šä¸ªé¡¹ç›®æœ‰ç›¸åŒçš„orderå€¼ï¼Œè¿™äº›é¡¹ç›®ç…§æ–‡ä»¶é¡ºåºæ’ã€‚è¿™ä¸ªæ­¥éª¤å½±å“äº†ä¼¸ç¼©é¡¹ç›®ç”Ÿç›’æ ‘æˆçš„ç›’å­çš„é¡ºåºï¼Œä¹Ÿå½±å“äº†åé¢çš„æ¼”ç®—æ³•å¦‚ä½•å¤„ç†å„é¡¹ç›®ã€‚</p></blockquote><h3 id="flex-growå±æ€§"><a class="header-anchor" href="#flex-growå±æ€§"></a>flex-growå±æ€§</h3><p>flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚flex-growå–è´Ÿå€¼å°†å¤±æ•ˆã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <div align="center">  <img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071014.png" alt="ç¤ºæ„å›¾"> </div><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè‹¥æ‰€æœ‰flexé¡¹ç›®çš„flex-growå±æ€§éƒ½ä¸º1ï¼Œåˆ™flexå®¹å™¨ä¸­çš„flexé¡¹ç›®å°ºå¯¸éƒ½ç›¸ç­‰ï¼Œè‹¥å…¶ä¸­ä¸€ä¸ªä¸º2å…¶ä»–ä¸º1ï¼Œåˆ™ä¸ºå…¶ä»–flexé¡¹ç›®çš„ä¸¤å€ã€‚</p><h3 id="flex-shrinkå±æ€§"><a class="header-anchor" href="#flex-shrinkå±æ€§"></a>flex-shrinkå±æ€§</h3><p>flex-shrinkå±æ€§åˆ™ä¸flex-growå±æ€§ç›¸åï¼Œå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚ä¸flex-growä¸€æ ·ï¼Œflex-shrinkå–è´Ÿå€¼å°†å¤±æ•ˆã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 1 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-basiså±æ€§"><a class="header-anchor" href="#flex-basiså±æ€§"></a>flex-basiså±æ€§</h3><p>flex-basiså±æ€§å®šä¹‰äº†Flexé¡¹ç›®åœ¨åˆ†é…Flexå®¹å™¨å‰©ä½™ç©ºé—´ä¹‹å‰çš„ä¸€ä¸ªé»˜è®¤å°ºå¯¸ï¼Œé€šä¿—ä¸€ç‚¹æ˜¯è¯´åœ¨flex-growå’Œflex-shrinkå±æ€§è°ƒæ•´å®ƒçš„å¤§å°ä»¥é€‚åº”Flexå®¹å™¨ä¹‹å‰ï¼Œå¯ä»¥æŒ‡å®šFlexé¡¹ç›®çš„åˆå§‹å¤§å°ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚flex-basiså¯ä»¥å–ä»»ä½•ç”¨äºwidthå±æ€§çš„ä»»ä½•å€¼ï¼Œæ¯”å¦‚ % || em || rem || pxç­‰ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¦‚æœflex-basiså±æ€§çš„å€¼æ˜¯0æ—¶ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨å•ä½ã€‚å³flex-basis: 0pxä¸èƒ½å†™æˆflex-basis:0ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-basis</span>: &lt;length&gt; | auto; <span class="comment">/* default auto */</span> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="flexå±æ€§"><a class="header-anchor" href="#flexå±æ€§"></a>flexå±æ€§</h3><p>flexå±æ€§æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚</p><blockquote><p>æ³¨æ„ï¼šflex-growç¬¬ä¸€ï¼Œç„¶åæ˜¯flex-shrinkï¼Œæœ€åæ˜¯flex-basisã€‚ç¼©å†™æˆGSBã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123; </span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">1</span> auto;<span class="comment">/*flex-grow: 0; flex-shrink: 1; flex-basis: auto;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>flexå¸¸è§å€¼:</p><ol><li><p>flex: 0 auto,flex: initialä¸flex: 0 1 autoç›¸åŒã€‚æ ¹æ®widthï¼heightå±æ€§å†³å®šå…ƒç´ çš„å°ºå¯¸ã€‚ï¼ˆå¦‚æœé¡¹ç›®çš„ä¸»è½´é•¿åº¦å±æ€§çš„è®¡ç®—å€¼ä¸ºautoï¼Œåˆ™ä¼šæ ¹æ®å…¶å†…å®¹æ¥å†³å®šå…ƒç´ å°ºå¯¸ã€‚ï¼‰å½“å‰©ä½™ç©ºé—´ä¸ºæ­£å€¼æ—¶ï¼Œä¼¸ç¼©é¡¹ç›®æ— æ³•ä¼¸ç¼©ï¼Œä½†å½“ç©ºé—´ä¸è¶³æ—¶ï¼Œä¼¸ç¼©é¡¹ç›®å¯æ”¶ç¼©è‡³å…¶æœ€å°å€¼ã€‚</p></li><li><p>flex: autoä¸flex: 1 1 autoç›¸åŒã€‚æ ¹æ®widthï¼heightå±æ€§å†³å®šå…ƒç´ çš„å°ºå¯¸ï¼Œä½†æ˜¯å®Œå…¨å¯ä»¥ä¼¸ç¼©ï¼Œä¼šå¸æ”¶ä¸»è½´ä¸Šå‰©ä¸‹çš„ç©ºé—´ã€‚</p></li><li><p>flex: noneä¸flex: 0 0 autoç›¸åŒã€‚æ ¹æ®widthï¼heightå±æ€§å†³å®šå…ƒç´ çš„å°ºå¯¸ï¼Œä½†æ˜¯å®Œå…¨ä¸å¯ä¼¸ç¼©ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå›ºå®šå®½åº¦çš„å…ƒç´ ï¼Œåˆå§‹å®½åº¦æ˜¯åŸºäºflexé¡¹ç›®å†…å®¹å¤§å°ã€‚æ³¨æ„ï¼šå³ä½¿åœ¨ç©ºé—´ä¸å¤Ÿè€Œæº¢å‡ºçš„æƒ…å†µä¸‹ï¼Œä¼¸ç¼©é¡¹ç›®ä¹Ÿä¸èƒ½æ”¶ç¼©ã€‚</p></li><li><p>flex: <positive-number>ä¸flex: 1 0pxç›¸åŒã€‚è¯¥å€¼ä½¿å…ƒç´ å¯ä¼¸ç¼©ï¼Œå¹¶å°†ä¼¸ç¼©åŸºå‡†å€¼è®¾ç½®ä¸ºé›¶ï¼Œå¯¼è‡´è¯¥é¡¹ç›®ä¼šæ ¹æ®è®¾ç½®çš„æ¯”ç‡å ç”¨ä¼¸ç¼©å®¹å™¨çš„å‰©ä½™ç©ºé—´ã€‚å¦‚æœä¸€ä¸ªä¼¸ç¼©å®¹å™¨é‡Œçš„æ‰€æœ‰é¡¹ç›®éƒ½ä½¿ç”¨æ­¤æ¨¡å¼ï¼Œåˆ™å®ƒä»¬çš„å°ºå¯¸ä¼šæ­£æ¯”äºæŒ‡å®šçš„ä¼¸ç¼©æ¯”ç‡ã€‚</positive-number></p></li></ol><p>é»˜è®¤çŠ¶æ€ä¸‹ï¼Œä¼¸ç¼©é¡¹ç›®ä¸ä¼šæ”¶ç¼©è‡³æ¯”å…¶æœ€å°å†…å®¹å°ºå¯¸ï¼ˆæœ€é•¿çš„è‹±æ–‡è¯æˆ–æ˜¯å›ºå®šå°ºå¯¸å…ƒç´ çš„é•¿åº¦ï¼‰æ›´å°ã€‚ç½‘é¡µä½œè€…å¯ä»¥é è®¾ç½®min-widthæˆ–min-heightå±æ€§æ¥æ”¹å˜è¿™ä¸ªé»˜è®¤çŠ¶æ€.</p><h3 id="align-selfå±æ€§"><a class="header-anchor" href="#align-selfå±æ€§"></a>align-selfå±æ€§</h3><p>align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚</p><pre><code class="language-css">  .item {     align-self: auto | flex-start | flex-end | center | baseline | stretch;   }</code></pre><div align="center">  <img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071016.png" alt="ç¤ºæ„å›¾"></div><ul><li>flex-start:ä¼¸ç¼©é¡¹ç›®åœ¨ä¾§è½´èµ·ç‚¹è¾¹çš„å¤–è¾¹è·ç´§é ä½è¯¥è¡Œåœ¨ä¾§è½´èµ·å§‹çš„è¾¹ã€‚</li><li>flex-end:ä¼¸ç¼©é¡¹ç›®åœ¨ä¾§è½´ç»ˆç‚¹è¾¹çš„å¤–è¾¹è·é ä½è¯¥è¡Œåœ¨ä¾§è½´ç»ˆç‚¹çš„è¾¹ ã€‚</li><li>center:ä¼¸ç¼©é¡¹ç›®çš„å¤–è¾¹è·ç›’åœ¨è¯¥è¡Œçš„ä¾§è½´ä¸Šå±…ä¸­æ”¾ç½®ã€‚ï¼ˆå¦‚æœä¼¸ç¼©è¡Œçš„å°ºå¯¸å°äºä¼¸ç¼©é¡¹ç›®ï¼Œåˆ™ä¼¸ç¼©é¡¹ç›®ä¼šå‘ä¸¤ä¸ªæ–¹å‘æº¢å‡ºç›¸åŒçš„é‡ï¼‰ã€‚</li><li>baseline:å¦‚æœä¼¸ç¼©é¡¹ç›®çš„è¡Œå†…è½´ä¸ä¾§è½´ä¸ºåŒä¸€æ¡ï¼Œåˆ™è¯¥å€¼å’Œflex-startç­‰æ•ˆã€‚å…¶å®ƒæƒ…å†µä¸‹ï¼Œè¯¥å€¼å°†å‚ä¸åŸºçº¿å¯¹é½ã€‚æ‰€æœ‰å‚ä¸è¯¥å¯¹é½æ–¹å¼çš„ä¼¸ç¼©é¡¹ç›®å°†æŒ‰ä¸‹åˆ—æ–¹å¼æ’åˆ—ï¼šé¦–å…ˆå°†è¿™äº›ä¼¸ç¼©é¡¹ç›®çš„åŸºçº¿è¿›è¡Œå¯¹é½ï¼Œéšåå…¶ä¸­åŸºçº¿è‡³ä¾§è½´èµ·ç‚¹è¾¹çš„å¤–è¾¹è·è·ç¦»æœ€é•¿çš„é‚£ä¸ªé¡¹ç›®å°†ç´§é ä½è¯¥è¡Œåœ¨ä¾§è½´èµ·ç‚¹çš„è¾¹ã€‚</li><li>stretch:å¦‚æœä¾§è½´é•¿åº¦å±æ€§çš„å€¼ä¸ºautoï¼Œåˆ™æ­¤å€¼ä¼šä½¿é¡¹ç›®çš„å¤–è¾¹è·ç›’çš„å°ºå¯¸åœ¨éµç…§min/max-width/heightå±æ€§çš„é™åˆ¶ä¸‹å°½å¯èƒ½æ¥è¿‘æ‰€åœ¨è¡Œçš„å°ºå¯¸ã€‚</li></ul><blockquote><p>åšå®¢ä¸­æœ‰äº›åœ°æ–¹æ˜¯å‚è€ƒé˜®è€å¸ˆçš„æ–‡ç« ï¼Œå†è‡ªå·±ä½œæ€»ç»“çš„ï¼Œå…·ä½“å¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">ã€ŠFlexå¸ƒå±€æ•™ç¨‹ã€‹</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºç°åœ¨çš„å…¬å¸è¦æ±‚å¸ƒå±€çš„å…¼å®¹æ€§è¦å…¼å®¹åˆ°è‡³å°‘IE7ï¼Œæ‰€ä»¥å¯¹äºflexboxè¿™ç§å¸ƒå±€ä¹Ÿæ²¡æœ‰äº†è§£å¤ªå¤šï¼Œä¹‹å‰æœ‰å¬è¯´è¿‡flexå¸ƒå±€ï¼Œå¬èµ·æ¥æ˜¯ä¸€ç§æ¯”è¾ƒé«˜å¤§ä¸Šï¼Œå¯ä»¥è‡ªé€‚åº”ä¸åŒå°ºå¯¸å±å¹•çš„å¸ƒå±€æ–¹å¼ï¼Œä½†æ˜¯æ²¡æœ‰æ­£å¼çš„å»å­¦ä¹ äº†è§£ã€‚flexboxæ˜¯CSS3ç®—æ˜¯æ¯”è¾ƒæ–°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæœ€è¿‘åˆšå¥½æœ‰æ—¶é—´ä¹Ÿæœ‰å…´è¶£å°±äº†è§£äº†ï¼Œè§‰å¾—è¿˜æ˜¯è¦åšä¸€ä¸‹æ€»ç»“ï¼Œä¸ç„¶å¾ˆå¿«åˆå¿˜äº†ğŸ˜°ã€‚&lt;/p&gt;
&lt;p&gt;flexboxå¸ƒå±€æ„ä¸ºå¼¹æ€§å¸ƒå±€ï¼Œæ˜¯css3çš„å¼¹æ€§ç›’å­æ¨¡å¼ï¼Œç”¨å®ƒå¯ä»¥å‘Šåˆ«floatå¸ƒå±€ï¼Œä¹Ÿå¯ä»¥ç®€å•å®ç°å‚ç›´å±…ä¸­ï¼Œå¹¶ä¸”å…·æœ‰å“åº”å¼ï¼Œå°±æ˜¯å¯ä»¥è‡ªåŠ¨è°ƒæ•´ï¼Œè®¡ç®—å…ƒç´ åœ¨å®¹å™¨ç©ºé—´ä¸­çš„å¤§å°ï¼Œå¯ä»¥è¯´ï¼šå®Œç¾~~~ï¼ˆæ­¤å¤„åº”æœ‰æ ‡å¿—æ€§åŠ¨ä½œ)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flexå¸ƒå±€èƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯ç»™å®¹å™¨æ§åˆ¶é¡¹ç›®ï¼ˆFlexé¡¹ç›®ï¼‰çš„å®½åº¦ã€é«˜åº¦çš„èƒ½åŠ›ï¼Œä½¿ç”¨Flexé¡¹ç›®å¯ä»¥è‡ªåŠ¨å¡«æ»¡å®¹å™¨çš„å¯ç”¨ç©ºé—´ï¼ˆä¸»è¦æ˜¯é€‚åº”æ‰€æœ‰ç±»å‹çš„æ˜¾ç¤ºè®¾å¤‡å’Œå±å¹•å¤§å°ï¼‰ã€‚Flexå®¹å™¨ä½¿ç”¨Flexé¡¹ç›®å¯ä»¥è‡ªåŠ¨æ”¾å¤§ä¸æ”¶ç¼©ï¼Œç”¨æ¥å¡«è¡¥å¯ç”¨çš„ç©ºé—²ç©ºé—´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="https://huangzhuangjia.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptçš„å†…å­˜é—®é¢˜</title>
    <link href="https://huangzhuangjia.github.io/2017/02/21/javascript-memory/"/>
    <id>https://huangzhuangjia.github.io/2017/02/21/javascript-memory/</id>
    <published>2017-02-21T07:05:51.000Z</published>
    <updated>2019-01-11T09:32:09.278Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥æ¥ï¼Œå¯¹äºJsçš„å†…å­˜ç©ºé—´è¿™éƒ¨åˆ†çš„çŸ¥è¯†æ¦‚å¿µæœ‰äº›æ¨¡ç³Šï¼Œæœ€è¿‘åœ¨å›é¡¾ä¸€äº›çŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œç‰¹åœ°çš„å¯¹jsçš„å†…å­˜è¿™éƒ¨åˆ†çŸ¥è¯†åŠ æ·±äº†ä¸€ä¸‹ç†è§£ï¼Œæ¯”å¦‚åŸºæœ¬ç±»å‹æ•°æ®å’Œå¼•ç”¨ç±»å‹æ•°æ®åœ¨jså†…å­˜ä¸­æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿä»€ä¹ˆæ˜¯æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’ï¼Ÿä»¥åŠå¯¹ä½œç”¨åŸŸå’Œé—­åŒ…çš„ç†è§£ç­‰ç­‰ã€‚</p><h1>JavaScriptçš„å†…å­˜æ˜¯æ€æ ·çš„ï¼Ÿ</h1><p>JavaScriptä¸­æœ‰ä¸¤ç§ä¸åŒæ•°æ®ç±»å‹çš„å€¼ï¼Œä¸€ç§æ˜¯åŸå§‹å€¼ï¼Œå¦å¤–ä¸€ç§æ˜¯å¼•ç”¨ç±»å‹å€¼ï¼ŒåŸå§‹å€¼å°±æ˜¯å¸¸è¯´çš„åŸºæœ¬æ•°æ®ç±»å‹å€¼ï¼ŒåŒ…æ‹¬Stringã€Numberã€Booleanã€Undefinedå’ŒNullè¿™äº”å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨å€¼æŒ‡çš„æ˜¯é‚£äº›å¯èƒ½ç”±å¤šä¸ªæŒ‡æ„æˆçš„å¯¹è±¡ï¼ŒåŒ…æ‹¬Object,Function,Arrayç­‰ç±»å‹çš„å€¼ã€‚</p><a id="more"></a><blockquote><p>JavaScriptä¸­çš„å†…å­˜ä¹Ÿåˆ†ä¸ºæ ˆå†…å­˜å’Œå †å†…å­˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ ˆå†…å­˜ä¸­å­˜æ”¾çš„æ˜¯å­˜å‚¨å¯¹è±¡çš„åœ°å€ï¼Œè€Œå †å†…å­˜ä¸­å­˜æ”¾çš„æ˜¯å­˜å‚¨å¯¹è±¡çš„å…·ä½“å†…å®¹ã€‚å¯¹äºåŸå§‹ç±»å‹çš„å€¼è€Œè¨€ï¼Œå…¶åœ°å€å’Œå…·ä½“å†…å®¹éƒ½å­˜åœ¨ä¸æ ˆå†…å­˜ä¸­ï¼›è€ŒåŸºäºå¼•ç”¨ç±»å‹çš„å€¼ï¼Œå…¶åœ°å€å­˜åœ¨æ ˆå†…å­˜ï¼Œå…¶å…·ä½“å†…å®¹å­˜åœ¨å †å†…å­˜ä¸­ã€‚å †å†…å­˜ä¸æ ˆå†…å­˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ ˆå†…å­˜è¿è¡Œæ•ˆç‡æ¯”å †å†…å­˜é«˜ï¼Œç©ºé—´ç›¸å¯¹å †å†…å­˜æ¥è¯´è¾ƒå°ï¼Œåä¹‹åˆ™æ˜¯å †å†…å­˜çš„ç‰¹ç‚¹ã€‚æ‰€ä»¥å°†æ„é€ ç®€å•çš„åŸå§‹ç±»å‹å€¼æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼Œå°†æ„é€ å¤æ‚çš„å¼•ç”¨ç±»å‹å€¼æ”¾åœ¨å †ä¸­è€Œä¸å½±å“æ ˆçš„æ•ˆç‡ã€‚</p></blockquote><p>æˆ‘ä»¬çœ‹ä¸‹ä¸‹é¢Jsçš„å†…å­˜ç¤ºæ„å›¾ï¼š</p><div align="center">  <img src="http://upload-images.jianshu.io/upload_images/599584-cce8e155e19593fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å†…å­˜ç¤ºæ„å›¾"></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="string">'abc'</span>;</span><br><span class="line">    <span class="keyword">var</span> c = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> d = &#123; <span class="attr">m</span>: <span class="number">20</span> &#125;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å¯ä»¥çœ‹å‡ºå˜é‡a,b,cå±äºåŸå§‹æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå®ƒä»¬çš„å€¼éƒ½å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼Œè€Œdæ˜¯ä¸€ä¸ªå¯¹è±¡å³å±äºå¼•ç”¨å€¼ï¼Œæ ˆå†…å­˜ä¸­å­˜æ”¾çš„æ˜¯å®ƒçš„å†…å­˜åœ°å€ï¼ŒæŒ‡å‘å †å†…å­˜é‡Œé¢å…·ä½“çš„ä¸€ä¸ªå€¼ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¸€æ®µä»£ç ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">    <span class="keyword">var</span> a = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">var</span> b = a;</span><br><span class="line">    a.x = a = &#123;<span class="attr">n</span>:<span class="number">2</span>&#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(a.x);<span class="comment">// --&gt; undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(b.x);<span class="comment">// --&gt; [object Object]</span></span><br></pre></td></tr></table></figure><p>ä¸€å¼€å§‹çœ‹è¿™é“é¢˜ï¼Œç„¶åçœ‹ç­”æ¡ˆï¼Œä¸€è„¸æ‡µé€¼å•Šæœ‰æœ¨æœ‰ï¼Ÿï¼Ÿï¼Ÿä¸ºå•¥ç»“æœè¾“å‡ºçš„æ˜¯undefinedå’Œ[object Object]ï¼Ÿï¼Ÿï¼Ÿ</p><p>äº†è§£äº†Jsçš„å˜é‡åœ¨å†…å­˜çš„å­˜å‚¨å½¢å¼ä¹‹åï¼Œæˆ‘ä»¬ä¸€èµ·æ¥è§£é‡Šä¸€ä¸‹ï¼š<br>1ã€aæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œä¸€å¼€å§‹å®ƒåœ¨æ ˆå†…å­˜ä¸­çš„åœ°å€æ˜¯æŒ‡å‘å †å†…å­˜çš„å…·ä½“å†…å®¹{n:1}ï¼Œæ¥ç€èµ‹å€¼ç»™bï¼Œæ‰€ä»¥bå’Œaä¸€æ ·ï¼Œæ­¤æ—¶éƒ½æŒ‡å‘å¯¹è±¡{n:1}ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125; ;</span><br><span class="line"><span class="keyword">var</span> b = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125; ;</span><br></pre></td></tr></table></figure><p>2ã€æ¥ä¸‹æ¥a.x = a = {n:2},æˆ‘ä»¬éƒ½çŸ¥é“jsçš„èµ‹å€¼è¿ç®—æ˜¯ä»å³å¾€å·¦çš„ï¼Œä½†â€œ.â€æ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„è¿ç®—ç¬¦ï¼Œæ‰€ä»¥è¿™æ®µä»£ç å…ˆæ‰§è¡Œäº†a.x,æ‰€ä»¥æ­¤æ—¶å¯¹è±¡{n:1}æ–°å¢åŠ äº†ä¸€ä¸ªxçš„å±æ€§ï¼Œå¹¶ä¸”å€¼æ˜¯undefinedï¼Œæ‰€ä»¥è¿è¡Œåˆ°è¿™é‡Œaå’Œbéƒ½æŒ‡å‘äº†å¯¹è±¡{n:1,x:undefined}ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> a = &#123;<span class="attr">n</span>:<span class="number">1</span>ï¼Œx:<span class="literal">undefined</span>&#125; ;</span><br><span class="line">  <span class="keyword">var</span> b = &#123;<span class="attr">n</span>:<span class="number">1</span>ï¼Œx:<span class="literal">undefined</span>&#125; ;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3ã€æ¥ç€ï¼Œä¾å¾ªâ€œä»å³å¾€å·¦â€çš„èµ‹å€¼è¿ç®—é¡ºåºå…ˆæ‰§è¡Œ a=&#123;n:2&#125; ï¼Œè¿™æ—¶å€™ï¼ŒaæŒ‡å‘çš„å¯¹è±¡å‘ç”Ÿäº†æ”¹å˜ï¼Œå˜æˆäº†æ–°å¯¹è±¡&#123;n:2&#125;;è€Œa.x = aåˆ™æ˜¯å¯¹è±¡&#123;n:1ï¼Œx:undefined&#125;ä¸­çš„å±æ€§xæŒ‡å‘äº†å¯¹è±¡&#123;n:2&#125;ï¼Œæ‰€ä»¥æ­¤æ—¶æŒ‡å‘çš„å¯¹è±¡å˜æˆäº†&#123;n:1,x:&#123;n:2&#125;&#125;ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">  <span class="keyword">var</span> a = &#123;<span class="attr">n</span>:<span class="number">2</span>&#125; ;</span><br><span class="line">  <span class="keyword">var</span> b = &#123;<span class="attr">n</span>:<span class="number">1</span>ï¼Œx:&#123;<span class="attr">n</span>:<span class="number">2</span>&#125;&#125; ;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€åçš„è¿è¡Œç»“æœï¼Œæ˜¾ç„¶a.xæ˜¯undefinedï¼Œb.xæ˜¯å¯¹è±¡&#123;n:2&#125;,ç”¨å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼[object Object]è¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## Jsçš„å†…å­˜ç©ºé—´ç®¡ç†</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">JavaScriptçš„å†…å­˜åˆ†é…å’Œå›æ”¶æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œæ»¡è¶³ä¸€å®šæ¡ä»¶ï¼Œå°±ä¼šè¢«åƒåœ¾å›æ”¶å™¨è‡ªåŠ¨å›æ”¶ï¼Œä¸‹é¢æˆ‘ä»¬ç®€å•çš„äº†è§£ä¸‹jsçš„å†…å­˜ç®¡ç†æœºåˆ¶ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### JavaScriptçš„å†…å­˜ç”Ÿå‘½å‘¨æœŸ:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. åˆ†é…ä½ æ‰€éœ€è¦çš„å†…å­˜</span></span><br><span class="line"><span class="string">2. ä½¿ç”¨åˆ†é…åˆ°çš„å†…å­˜ï¼ˆè¯»ã€å†™ï¼‰</span></span><br><span class="line"><span class="string">3. ä¸éœ€è¦æ—¶å°†å…¶é‡Šæ”¾ã€å½’è¿˜</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">10</span>;  <span class="comment">// åœ¨å†…å­˜ä¸­ç»™æ•°å€¼å˜é‡åˆ†é…ç©ºé—´</span></span><br><span class="line">  alert(num);  <span class="comment">// ä½¿ç”¨å†…å­˜</span></span><br><span class="line">  num = <span class="literal">null</span>; <span class="comment">// ä½¿ç”¨å®Œæ¯•ä¹‹åï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> obj = &#123;<span class="attr">v</span>:<span class="number">1</span>&#125;; <span class="comment">// å†…å­˜ä¸­å­˜åœ¨&#123;v:1&#125;å¯¹è±¡ï¼ŒåŠobjè¿™ä¸ªå¼•ç”¨åœ°å€</span></span><br><span class="line">  obj = &#123;<span class="attr">value</span>:<span class="number">2</span>&#125;; <span class="comment">// åƒåœ¾å›æ”¶æœºåˆ¶è‡ªåŠ¨æ¸…ç†&#123;v:1&#125;ï¼Œå¹¶ä¸ºæ–°çš„æœ‰ç”¨åˆ°çš„&#123;value:2&#125;åˆ†é…ç©ºé—´</span></span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### åƒåœ¾å›æ”¶ç®—æ³•</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">jsåƒåœ¾å›æ”¶æœ‰ä¸¤ç§å¸¸è§çš„ç®—æ³•ï¼šå¼•ç”¨è®¡æ•°å’Œæ ‡è®°æ¸…é™¤ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### å¼•ç”¨è®¡æ•°</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å¼•ç”¨è®¡æ•°å°±æ˜¯è·Ÿè¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0å³æ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨å®ƒæ—¶ï¼Œè¯´æ˜è¯¥å¯¹è±¡å·²ç»æ— éœ€è®¿é—®äº†ï¼Œå› æ­¤å°±ä¼šå›æ”¶å…¶æ‰€å çš„å†…å­˜ï¼Œè¿™æ ·ï¼Œå½“åƒåœ¾å›æ”¶å™¨ä¸‹æ¬¡è¿è¡Œå°±ä¼šé‡Šæ”¾å¼•ç”¨æ•°ä¸º0çš„å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ä½†å¼•ç”¨è®¡æ•°å­˜åœ¨ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¾ªç¯å¼•ç”¨é—®é¢˜ï¼ˆIE6å’ŒIE7å°±æ˜¯é‡‡ç”¨æ­¤ç®—æ³•ï¼‰ã€‚å¾ªç¯å¼•ç”¨å°±æ˜¯æŒ‡å¯¹è±¡Aä¸­åŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡Bçš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡Bä¸­ä¹ŸåŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">problem</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> A = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> B = &#123;&#125;;</span><br><span class="line">    A.a = B;</span><br><span class="line">    B.a = A;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹å‡ºå¯¹è±¡Aå’ŒBå­˜åœ¨å¾ªç¯éŸ³å¼•ç”¨çš„é—®é¢˜ï¼Œå³ä¸¤ä¸ªçš„å¼•ç”¨æ¬¡æ•°å‡ä¸º2ï¼Œå®ƒä»¬åœ¨è¿è¡Œä¹‹åä¾ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”å¼•ç”¨æ¬¡æ•°æ°¸è¿œä¸ä¸º0ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°è¢«å¤šæ¬¡è°ƒç”¨ï¼Œå°±æœ‰å¯èƒ½å¼•èµ·å†…å­˜æ³„æ¼é—®é¢˜ã€‚ä¸ºäº†è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯å¯ä»¥å®ç°åƒåœ¾å›æ”¶ï¼Œé‚£å°±æ˜¯æ ‡è®°æ¸…é™¤æ³•ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### æ ‡è®°æ¸…é™¤</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æ ‡è®°æ¸…é™¤æ³•æ˜¯ç°ä»£æµè§ˆå™¨å¸¸ç”¨çš„ä¸€ç§åƒåœ¾æ”¶é›†æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥ç¯å¢ƒï¼ˆå³åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼‰æ—¶ï¼Œå°±å°†æ­¤å˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œè¿›å…¥ç¯å¢ƒçš„å˜é‡æ˜¯ä¸èƒ½è¢«é‡Šæ”¾ï¼Œå› ä¸ºåªæœ‰æ‰§è¡Œæµè¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ä¼šå¼•ç”¨å®ƒä»¬ã€‚è€Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œæ—¶ä¼šç»™å‚¨å­˜åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡åŠ ä¸Šæ ‡è®°ï¼Œç„¶åä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ï¼Œå½“æ‰§è¡Œå®Œæ¯•é‚£äº›æ²¡æœ‰å­˜åœ¨å¼•ç”¨æ— æ³•è®¿é—®çš„å˜é‡å°±è¢«åŠ ä¸Šæ ‡è®°ï¼Œæœ€ååƒåœ¾æ”¶é›†å™¨å®Œæˆæ¸…é™¤å·¥ä½œï¼Œé‡Šæ”¾æ‰é‚£äº›æ‰“ä¸Šæ ‡è®°çš„å˜é‡æ‰€å çš„å†…å­˜ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; æ ‡è®°æ¸…é™¤ä¹‹æ‰€ä»¥ä¸å­˜åœ¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå¯¹è±¡Aå’ŒBå°±å·²ç»ç¦»å¼€äº†æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œæ­¤æ—¶ä¸¤ä¸ªå˜é‡è¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ï¼Œç­‰å¾…è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶ï¼Œæœ€åé‡Šæ”¾å…¶å†…å­˜ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### ç®¡ç†å†…å­˜</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ä½¿ç”¨å…·å¤‡åƒåœ¾æ”¶é›†æœºåˆ¶çš„è¯­è¨€ç¼–å†™ç¨‹åºï¼Œå¼€å‘äººå‘˜ä¸€èˆ¬éƒ½ä¸å¿…æ‹…å¿ƒå†…å­˜ç®¡ç†çš„é—®é¢˜ã€‚ä½†JavaScriptåœ¨è¿›è¡Œå†…å­˜ç®¡ç†ä»¥åŠåƒåœ¾æ”¶é›†æ—¶é¢ä¸´çš„é—®é¢˜è¿˜æ˜¯æœ‰äº›ä¸åŒã€‚å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œç³»ç»Ÿåˆ†é…ç»™æµè§ˆå™¨çš„å¯ç”¨å†…å­˜æ•°é‡é€šå¸¸è¦æ¯”åˆ†é…ç»™æ¡Œé¢åº”ç”¨ç¨‹åºçš„å°‘ï¼Œé˜²æ­¢JavaScriptçš„ç½‘é¡µè€—å°½å…¨éƒ¨ç³»ç»Ÿå†…å­˜è€Œå¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚å†…å­˜é™åˆ¶é—®é¢˜ä¸ä»…ä¼šå½±å“ç»™å˜é‡åˆ†é…å†…å­˜ï¼ŒåŒæ—¶è¿˜ä¼šå½±å“è°ƒç”¨æ ˆä»¥åŠåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­èƒ½å¤ŸåŒæ—¶æ‰§è¡Œçš„è¯­å¥æ•°é‡ã€‚  </span></span><br><span class="line"><span class="string">å› æ­¤ä¸ºäº†ç¡®ä¿å ç”¨æœ€å°‘çš„å†…å­˜å¯ä»¥è®©é¡µé¢è·å–æ›´å¥½çš„æ€§èƒ½ã€‚ä¼˜åŒ–å†…å­˜å ç”¨çš„æœ€ä½³æ–¹å¼å°±æ˜¯ä¸ºæ‰§è¡Œä¸­çš„ä»£ç åªä¿å­˜å¿…è¦çš„æ•°æ®ã€‚ä¸€æ—¦æ•°æ®ä¸å†æœ‰ç”¨ï¼Œæœ€å¥½é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸ºnullæ¥é‡Šæ”¾å…¶å¼•ç”¨ï¼Œå³è§£é™¤å¼•ç”¨ã€‚è¿™ä¸€åšæ³•é€‚ç”¨äºå¤§å¤šå…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚å±€éƒ¨å˜é‡ä¼šåœ¨å®ƒä»¬ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶è‡ªåŠ¨è¢«è§£é™¤å¼•ç”¨ã€‚ï¼ˆå…·ä½“è¯·é˜…è¯»ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ç¬¬å››ç« ï¼‰</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å¯ä»¥åˆ†æä»¥ä¸‹ä»£ç ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> localPerson = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">        localPerson.name = name;</span><br><span class="line">        <span class="keyword">return</span> localPerson;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> globalPerson = createPerson(<span class="string">"Junga"</span>);</span><br><span class="line">    globalPerson = <span class="literal">null</span>;<span class="comment">//æ‰‹åŠ¨è§£é™¤å…¨å±€å˜é‡çš„å¼•ç”¨</span></span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">åœ¨è¿™ä¸ªğŸŒ°ä¸­ï¼Œå˜é‡globalPersonå–å¾—äº†createPerson()å‡½æ•°çš„è¿”å›çš„å€¼ã€‚åœ¨createPerson()çš„å†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªå±€éƒ¨å˜é‡localPersonå¹¶æ·»åŠ äº†ä¸€ä¸ªnameå±æ€§ã€‚ç”±äºlocalPersonåœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åå°±ç¦»å¼€æ‰§è¡Œç¯å¢ƒï¼Œå› æ­¤ä¼šè‡ªåŠ¨è§£é™¤å¼•ç”¨ï¼Œè€Œå¯¹äºå…¨å±€å˜é‡æ¥è¯´åˆ™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®nullï¼Œè§£é™¤å¼•ç”¨ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ä¸è¿‡ï¼Œè§£é™¤ä¸€ä¸ªå€¼çš„å¼•ç”¨å¹¶ä¸æ„å‘³ç€è‡ªåŠ¨å›æ”¶è¯¥å€¼æ‰€å ç”¨çš„å†…å­˜ï¼Œè§£é™¤å¼•ç”¨çœŸæ­£çš„ä½œç”¨æ˜¯è®©å€¼è„±ç¦»æ‰§è¡Œç¯å¢ƒï¼Œä»¥ä¾¿åƒåœ¾æ”¶é›†å™¨ä¸‹æ¬¡è¿è¡Œæ—¶å°†å…¶æ”¶å›ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## å†…å­˜ä¼˜åŒ–</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; å¯¹äºå…¨å±€å˜é‡ï¼ŒJavaScriptä¸èƒ½ç¡®å®šå®ƒåœ¨åé¢ä¸èƒ½å¤Ÿè¢«ç”¨åˆ°ï¼Œæ‰€ä»¥å®ƒä¼šä»å£°æ˜ä¹‹åå°±ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ï¼Œç›´è‡³æ‰‹åŠ¨é‡Šæ”¾æˆ–è€…å…³é—­é¡µé¢/æµè§ˆå™¨ï¼Œè¿™å°±å¯¼è‡´äº†æŸäº›ä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡Œä»¥ä¸‹çš„ä¼˜åŒ–:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### ç«‹å³æ‰§è¡Œå‡½æ•°çš„è¿ç”¨</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">  ;(<span class="function"><span class="keyword">function</span>(<span class="params">window, $, undefined</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ä¸»ä¸šåŠ¡ä»£ç </span></span><br><span class="line">   &#125;)(<span class="built_in">window</span>, jQuery);</span><br></pre></td></tr></table></figure><p>ç«‹å³æ‰§è¡Œå‡½æ•°çš„ä½œç”¨å°±æ˜¯å»ºç«‹ä¸€ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œå…¶ä¸€æ˜¯ä¸ºäº†é˜²æ­¢å…¨å±€æ±¡æŸ“ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é˜²æ­¢è¿‡å¤šçš„å®šä¹‰å…¨å±€å˜é‡é€ æˆçš„å†…å­˜å›æ”¶é—®é¢˜ã€‚å¦‚æœä½ çš„æŸäº›å˜é‡çœŸçš„éœ€è¦ä¸€ç›´å­˜åœ¨å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹æ³•æŒ‚è½½åœ¨windowä¸‹ã€‚åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥jQueryè¿›è¡Œä½¿ç”¨ã€‚</p><h3 id="æ‰‹åŠ¨è§£é™¤å˜é‡çš„å¼•ç”¨"><a class="header-anchor" href="#æ‰‹åŠ¨è§£é™¤å˜é‡çš„å¼•ç”¨"></a>æ‰‹åŠ¨è§£é™¤å˜é‡çš„å¼•ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line">obj = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å›è°ƒ"><a class="header-anchor" href="#ä½¿ç”¨å›è°ƒ"></a>ä½¿ç”¨å›è°ƒ</h3><p>é™¤äº†ä½¿ç”¨é—­åŒ…è¿›è¡Œå†…éƒ¨å˜é‡è®¿é—®ï¼Œå›è°ƒå‡½æ•°ä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = <span class="string">'Junga'</span>;</span><br><span class="line">  callback(data);</span><br><span class="line">&#125;</span><br><span class="line">getData(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°æ˜¯ä¸€ç§åç»­ä¼ é€’é£æ ¼(Continuation Passing Style, CPS)çš„æŠ€æœ¯ï¼Œè¿™ç§é£æ ¼çš„ç¨‹åºç¼–å†™å°†å‡½æ•°çš„ä¸šåŠ¡é‡ç‚¹ä»è¿”å›å€¼è½¬ç§»åˆ°å›è°ƒå‡½æ•°ä¸­å»ã€‚è€Œä¸”å…¶ç›¸æ¯”é—­åŒ…çš„å¥½å¤„ä¹Ÿä¸å°‘ï¼š</p><ol><li>å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯åŸºç¡€ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å€¼ï¼‰ï¼Œå›è°ƒå‡½æ•°ä¸­ä¼ å…¥çš„å½¢å‚å°±ä¼šæ˜¯å¤åˆ¶å€¼ï¼Œä¸šåŠ¡ä»£ç ä½¿ç”¨å®Œæ¯•ä»¥åï¼Œæ›´å®¹æ˜“è¢«å›æ”¶ï¼›</li><li>é€šè¿‡å›è°ƒï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥å®ŒæˆåŒæ­¥çš„è¯·æ±‚å¤–ï¼Œè¿˜å¯ä»¥ç”¨åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œè¿™ä¹Ÿå°±æ˜¯ç°åœ¨éå¸¸æµè¡Œçš„ä¸€ç§ç¼–å†™é£æ ¼ï¼›</li><li>å›è°ƒå‡½æ•°è‡ªèº«é€šå¸¸ä¹Ÿæ˜¯ä¸´æ—¶çš„åŒ¿åå‡½æ•°ï¼Œä¸€æ—¦è¯·æ±‚å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå›è°ƒå‡½æ•°è‡ªèº«çš„å¼•ç”¨å°±ä¼šè¢«è§£é™¤ï¼Œè‡ªèº«ä¹Ÿå¾—åˆ°å›æ”¶ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ç›´ä»¥æ¥ï¼Œå¯¹äºJsçš„å†…å­˜ç©ºé—´è¿™éƒ¨åˆ†çš„çŸ¥è¯†æ¦‚å¿µæœ‰äº›æ¨¡ç³Šï¼Œæœ€è¿‘åœ¨å›é¡¾ä¸€äº›çŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œç‰¹åœ°çš„å¯¹jsçš„å†…å­˜è¿™éƒ¨åˆ†çŸ¥è¯†åŠ æ·±äº†ä¸€ä¸‹ç†è§£ï¼Œæ¯”å¦‚åŸºæœ¬ç±»å‹æ•°æ®å’Œå¼•ç”¨ç±»å‹æ•°æ®åœ¨jså†…å­˜ä¸­æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿä»€ä¹ˆæ˜¯æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’ï¼Ÿä»¥åŠå¯¹ä½œç”¨åŸŸå’Œé—­åŒ…çš„ç†è§£ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h1&gt;JavaScriptçš„å†…å­˜æ˜¯æ€æ ·çš„ï¼Ÿ&lt;/h1&gt;
&lt;p&gt;JavaScriptä¸­æœ‰ä¸¤ç§ä¸åŒæ•°æ®ç±»å‹çš„å€¼ï¼Œä¸€ç§æ˜¯åŸå§‹å€¼ï¼Œå¦å¤–ä¸€ç§æ˜¯å¼•ç”¨ç±»å‹å€¼ï¼ŒåŸå§‹å€¼å°±æ˜¯å¸¸è¯´çš„åŸºæœ¬æ•°æ®ç±»å‹å€¼ï¼ŒåŒ…æ‹¬Stringã€Numberã€Booleanã€Undefinedå’ŒNullè¿™äº”å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨å€¼æŒ‡çš„æ˜¯é‚£äº›å¯èƒ½ç”±å¤šä¸ªæŒ‡æ„æˆçš„å¯¹è±¡ï¼ŒåŒ…æ‹¬Object,Function,Arrayç­‰ç±»å‹çš„å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://huangzhuangjia.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºjsäº‹ä»¶å¾ªç¯çš„é‚£ç‚¹ä¸€çŸ¥åŠè§£</title>
    <link href="https://huangzhuangjia.github.io/2017/02/17/event-Loop/"/>
    <id>https://huangzhuangjia.github.io/2017/02/17/event-Loop/</id>
    <published>2017-02-17T07:08:42.000Z</published>
    <updated>2019-01-11T09:31:37.419Z</updated>
    
    <content type="html"><![CDATA[<h1>èµ·æº</h1><p>æœ€è¿‘åœ¨å›é¡¾ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¹Ÿè§£æƒ‘äº†ä¸€äº›ä¹‹å‰ä¸æ‡‚çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿé¥¶æœ‰å…´è‡´çš„æäº†ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œç°åœ¨çœ‹æ¥è¿˜ä¸é”™ï¼Œå³å¯ä»¥æ€»ç»“è®°å½•ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œåˆå¯ä»¥åˆ†äº«ï¼Œè™½ç„¶ç°åœ¨æ˜¯ç»™è‡ªå·±çš„çœ‹åˆ°å“ˆå“ˆå“ˆ~~~</p><p>å…¶ä¸­åœ¨ç½‘ä¸Šçœ‹åˆ°äº†ä¸€é“é¢è¯•é¢˜ï¼Œè·Ÿä¹‹å‰å»æŸå…¬å¸ç»™çš„ä¸€é“é¢è¯•é¢˜ä¸€æ¯›ä¸€æ ·ï¼Œæ¶‰åŠåˆ°çš„æ˜¯é•¿æ•°ç»„é€’å½’å¯èƒ½é€ æˆjsçš„å †æ ˆæº¢å‡ºï¼Œè€Œååˆä»å †æ ˆæº¢å‡ºå¼•ç”³äº†è§£åˆ°äº†JSçš„äº‹ä»¶å¾ªç¯ï¼Œæ€»ç®—æ˜¯å¯¹æ­¤æœ‰äº†ä¸€çŸ¥åŠè§£ã€‚</p><a id="more"></a><p>å…ˆçœ‹çœ‹ä¸‹é¢è¿™é“é¢è¯•é¢˜ï¼š</p><blockquote><p>å¦‚æœ list å¾ˆå¤§ï¼Œä¸‹é¢çš„è¿™æ®µé€’å½’ä»£ç ä¼šé€ æˆå †æ ˆæº¢å‡ºã€‚å¦‚æœåœ¨ä¸æ”¹å˜é€’å½’æ¨¡å¼çš„å‰æä¸‹ä¿®å–„è¿™æ®µä»£ç :</p></blockquote><pre><code class="language-js">    var list = readHugeList();    var nextListItem = function() {        var item = list.pop();        if (item) {                // process the list item...            nextListItem();        }    };</code></pre><p>ä¹‹å‰æ˜¯åˆšæ¯•ä¸šä¸ä¹…å»æŸå…¬å¸ç¢°åˆ°çš„ä¸€é“é¢è¯•é¢˜ï¼Œå½“æ—¶å¯¹jsçš„ä¸€äº›çŸ¥è¯†æŒæ¡çš„ä¸æ˜¯å¾ˆæ·±åˆ»ï¼Œè¿™é“é¢˜å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆå»è§£å†³ï¼Ÿåé¢è¿™é“å°±æ²¡å†™ï¼Œæœ€åé¢è¯•ä»¥å¤±è´¥å‘Šç»ˆã€‚ä¸è¿‡é‚£æ¬¡ä¹‹åä¹Ÿå‘ç°è‡ªå·±çš„ä¸è¶³ï¼Œä»»é‡è€Œé“è¿œå•Šã€‚å…¶ä»–åºŸè¯ä¸å¤šè¯´äº†ï¼Œè¿›å…¥æ­£é¢˜å§ï¼</p><blockquote><p>ä¸Šé¢é‚£é“é¢˜çš„ç­”æ¡ˆæ˜¯åŠ ä¸€ä¸ªsetTimeoutçš„å®šæ—¶å™¨ï¼š</p></blockquote><pre><code class="language-js">    var list = readHugeList();    var nextListItem = function() {        var item = list.pop();        if (item) {            // process the list item...            setTimeout( nextListItem, 0);        }    };</code></pre><p>ä¹‹åè¿˜æ˜¯æœ‰äº›å›°æƒ‘ä¸è§£ï¼Œåé¢æŸ¥äº†ä¸€äº›èµ„æ–™ä¹‹åï¼ŒåŸæ¥æ¶‰åŠåˆ°äº†JavaScriptçš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚</p><h2 id="jsçš„äº‹ä»¶å¾ªç¯æœºåˆ¶"><a class="header-anchor" href="#jsçš„äº‹ä»¶å¾ªç¯æœºåˆ¶"></a>JSçš„äº‹ä»¶å¾ªç¯æœºåˆ¶</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒJSæ˜¯å•çº¿ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œå³åœ¨jsè¿è¡Œæ—¶ï¼Œæ‰€æœ‰çš„ä»»åŠ¡æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡å®Œæˆäº†ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚å› æ­¤ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªä»»åŠ¡å°±è¦é•¿æ—¶é—´ç­‰å¾…ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œè¿™æ ·çš„å¤„ç†ä»»åŠ¡æ•ˆç‡éå¸¸ä½ã€‚</p><p>JavaScriptè¯­è¨€çš„è®¾è®¡è€…æ„è¯†åˆ°ï¼Œè¿™æ—¶ä¸»çº¿ç¨‹å®Œå…¨å¯ä»¥ä¸ç®¡IOè®¾å¤‡ï¼ŒæŒ‚èµ·å¤„äºç­‰å¾…ä¸­çš„ä»»åŠ¡ï¼Œå…ˆè¿è¡Œæ’åœ¨åé¢çš„ä»»åŠ¡ã€‚äºæ˜¯ï¼Œæ‰€æœ‰ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯åŒæ­¥ä»»åŠ¡ï¼ˆsynchronousï¼‰ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼ˆasynchronousï¼‰ã€‚</p><p>ç”±æ­¤ï¼ŒJavaScriptçš„è¿è¡Œæœºåˆ¶å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªä¸»çº¿ç¨‹å’Œä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œè„šæœ¬è¿è¡Œæ—¶å…ˆè¿è¡Œä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹è¿è¡Œå®Œåï¼Œä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–äº‹ä»¶ï¼Œè¿è¡Œä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œåˆç§°Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ã€‚æ³¨æ„åªè¦ä¸»çº¿ç¨‹çš„ä»»åŠ¡æ²¡æœ‰è¿è¡Œå®Œï¼Œå¼‚æ­¥é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ°¸è¿œä¹Ÿæ— æ³•è¿è¡Œï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æµè§ˆå™¨å‡ºç°å‡æ­»çš„æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹å›¾è§£ï¼ˆè½¬å¼•è‡ªé˜®è€å¸ˆçš„<a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a>ï¼‰ã€‚</p><div align="center">    <img src="http://www.ruanyifeng.com/blogimg/asset/2014/bg2014100802.png" alt="å›¾è§£"></div><h2 id="è§£å†³"><a class="header-anchor" href="#è§£å†³"></a>è§£å†³</h2><p>æ‰€è°“çš„äº‹ä»¶å¾ªç¯ä¸æ˜¯å•çº¯åªæœ‰JSçš„äº‹ä»¶ç±»å‹å»è§¦å‘ï¼Œç±»ä¼¼setTimeoutå¼€å¯çš„å»¶æ—¶çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹è¿è¡Œä¹‹åï¼Œåœ¨ä¸€å®šçš„æ—¶é—´ä¼šè§¦å‘setTimeoutçš„å¼‚æ­¥ä»»åŠ¡ï¼Œæ­¤æ—¶ä»»åŠ¡ä¾¿ä»æ¶ˆæ¯é˜Ÿåˆ—ç§»é™¤è¿›å…¥ä¸»çº¿ç¨‹å®Œæˆæ‰§è¡Œï¼Œæ‰€ä»¥setTimeoutäº¦å¯ä»¥çœ‹åšæ˜¯ç”±æ—¶é—´çš„é•¿çŸ­æ¥å®šæ—¶è§¦å‘çš„ä¸€ç§äº‹ä»¶.</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="language-js">    console.log('a');    setTimeout(function(){        console.log('b');    },0);    console.log('c');</code></pre><p>ä¸Šè¿°è¿è¡Œç»“æœä¾æ¬¡è¾“å‡ºçš„æ˜¯ acbï¼›åŸå› æ˜¯jsæ‰§è¡Œæ—¶åŒæ­¥åŠ ä»¥ä¸Šä»»åŠ¡æ”¾å…¥ä¸»çº¿ç¨‹ï¼Œè€Œé‡åˆ°setTimeoutä¹‹åå¼€å¯äº†ä¸€ä¸ªå»¶æ—¶çº¿ç¨‹ï¼Œè¿›å…¥äº†å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰åˆ°ä¸»çº¿ç¨‹çš„ä»»åŠ¡éƒ½å®Œæˆä¹‹åï¼Œå†è¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰€ä»¥è¾“å‡ºçš„ç»“æœæ˜¯acbã€‚<br>éœ€è¦è¿›ä¸€æ­¥è§£é‡Šçš„æ˜¯ï¼šè¿™é‡Œçš„é›¶å»¶è¿Ÿä¸æ˜¯è¯´setTimeoutä¼šè¢«ç«‹åˆ»æ‰§è¡Œï¼Œæ˜¯è¯´ç­‰åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆï¼Œå¹¶ä¸”ä»»åŠ¡é˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶ä»–ä»»åŠ¡æ—¶ï¼ŒsetTimeoutçš„å›è°ƒå‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œï¼Œæœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯setTimeoutè®¾ç½®çš„æ—¶é—´å¹¶éå›è°ƒå‡½æ•°ä¼šåœ¨è¿™ä¸ªæ—¶é—´é—´éš”ä¹‹åç«‹å³è¿è¡Œï¼Œä»…ä»…è¡¨ç¤ºçš„æ˜¯æœ€å°‘æ—¶é—´è€Œéç¡®åˆ‡çš„æ—¶é—´ï¼Œå› ä¸ºä¸»çº¿ç¨‹ä»»åŠ¡éœ€è¦æ‰§è¡Œå®Œæˆä¸ºç©ºæ—¶ï¼Œæ‰ä¼šå¤„ç†ä»»åŠ¡é˜Ÿåˆ—çš„æ¶ˆæ¯å¤„ç†å³å›è°ƒå‡½æ•°ï¼Œæ‰€ä»¥setTimeoutæ‰§è¡Œå›è°ƒå‡½æ•°æ‰€ç­‰å¾…çš„æ—¶é—´æ¯”å®ƒè®¾å®šçš„æ—¶é—´å‚æ•°è¦é•¿ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å›è¿‡å¤´å»è§£é‡Šåˆšå¼€å§‹é‚£é“ç”¨setTimeoutæ¥è§£å†³å†…å­˜æº¢å‡ºçš„é¢è¯•é¢˜:</p><blockquote><p>åœ¨æ²¡æœ‰ç”¨setTimeoutè¿›è¡Œé€’å½’æ—¶ï¼Œå½“æ•°ç»„è¿‡å¤§ï¼Œä¸æ–­è¿›è¡Œé€’å½’è°ƒç”¨ï¼Œä¸»çº¿ç¨‹çš„ä»»åŠ¡æ•°é‡ä¼šä¸æ–­å åŠ ï¼Œå½“è¾¾åˆ°ä¸€å®šå¤§å°å°±ä¼šé€ æˆå †æ ˆæº¢å‡ºï¼Œè€Œå½“é€’å½’å‡½æ•°æ”¾åˆ°setTimeoutè¿›è¡Œå¼‚æ­¥æ‰§è¡Œï¼Œæ­¤æ—¶ç›¸å½“äºå¼€äº†å¦å¤–ä¸€ä¸ªå»¶æ—¶çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹å°±è´Ÿè´£è°ƒç”¨setTimeoutè¿™ä¸ªå¼‚æ­¥çº¿ç¨‹æ‰§è¡Œä»»åŠ¡å°±å¯ä»¥ï¼Œä¸€æ‰§è¡Œå®Œæˆå°±é‡Šæ”¾ï¼Œå°±ä¸ä¼šé€ æˆå †æ ˆæº¢å‡ºã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;èµ·æº&lt;/h1&gt;
&lt;p&gt;æœ€è¿‘åœ¨å›é¡¾ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¹Ÿè§£æƒ‘äº†ä¸€äº›ä¹‹å‰ä¸æ‡‚çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿé¥¶æœ‰å…´è‡´çš„æäº†ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œç°åœ¨çœ‹æ¥è¿˜ä¸é”™ï¼Œå³å¯ä»¥æ€»ç»“è®°å½•ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œåˆå¯ä»¥åˆ†äº«ï¼Œè™½ç„¶ç°åœ¨æ˜¯ç»™è‡ªå·±çš„çœ‹åˆ°å“ˆå“ˆå“ˆ~~~&lt;/p&gt;
&lt;p&gt;å…¶ä¸­åœ¨ç½‘ä¸Šçœ‹åˆ°äº†ä¸€é“é¢è¯•é¢˜ï¼Œè·Ÿä¹‹å‰å»æŸå…¬å¸ç»™çš„ä¸€é“é¢è¯•é¢˜ä¸€æ¯›ä¸€æ ·ï¼Œæ¶‰åŠåˆ°çš„æ˜¯é•¿æ•°ç»„é€’å½’å¯èƒ½é€ æˆjsçš„å †æ ˆæº¢å‡ºï¼Œè€Œååˆä»å †æ ˆæº¢å‡ºå¼•ç”³äº†è§£åˆ°äº†JSçš„äº‹ä»¶å¾ªç¯ï¼Œæ€»ç®—æ˜¯å¯¹æ­¤æœ‰äº†ä¸€çŸ¥åŠè§£ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://huangzhuangjia.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CSSä¹‹æ¸…é™¤æµ®åŠ¨</title>
    <link href="https://huangzhuangjia.github.io/2017/02/16/css-clearFloat/"/>
    <id>https://huangzhuangjia.github.io/2017/02/16/css-clearFloat/</id>
    <published>2017-02-16T06:19:03.000Z</published>
    <updated>2019-01-11T03:51:42.579Z</updated>
    
    <content type="html"><![CDATA[<p>é¢è¯•çš„æ—¶å€™ï¼Œå…³äºæ¸…é™¤æµ®åŠ¨çš„é—®é¢˜ç»å¸¸ä¼šè¢«è€ƒå¯Ÿï¼Œä¸€å¼€å§‹å¯¹æ¸…é™¤æµ®åŠ¨äº†è§£ä¸æ·±ï¼ŒåªçŸ¥é“cssæœ‰ä¸ªclearå±æ€§ã€‚åœ¨å¹³æ—¶å¼€å‘ä¸­ä¹Ÿç»å¸¸ä¼šç”¨åˆ°floatå¸ƒå±€æ–¹å¼ï¼Œä¹‹å‰å› ä¸ºäº†è§£ä¸æ·±ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ç§å¸ƒå±€çš„æ—¶å€™ç»å¸¸å‡ºç°é—®é¢˜ã€‚åé¢æŸ¥æ‰¾èµ„æ–™æ‰å‘ç°åŸæ¥æ¸…é™¤æµ®åŠ¨åé¢å¤§æœ‰å­¦é—®ï¼Œäº†è§£æ¸…é™¤æµ®åŠ¨æœ‰åˆ©äºæˆ‘ä»¬å¯¹å¸ƒå±€çš„å¼€å‘ï¼Œä¸‹é¢æ˜¯å¯¹äº†è§£ä¹‹åä½œå‡ºçš„ä¸€äº›æ€»ç»“ï¼Œå¯èƒ½æ€»ç»“çš„ä¸å…¨é¢ã€‚</p><p>åœ¨äº†è§£æ¸…é™¤æµ®åŠ¨ä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹ä»€ä¹ˆæ˜¯BFCã€‚</p><a id="more"></a><h1>äº†è§£BFC</h1><p>é¦–å…ˆçœ‹çœ‹W3Cå¯¹BFCæ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼š</p><blockquote><p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with â€˜overflowâ€™ other than â€˜visibleâ€™ (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.<br>In a block formatting context, boxes are laid out one after the other, vertically, beginning at the top of a containing block. The vertical distance between two sibling boxes is determined by the â€˜marginâ€™ properties. Vertical margins between adjacent block-level boxes in a block formatting context collapse.<br>In a block formatting context, each boxâ€™s left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a boxâ€™s line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats).</p></blockquote><p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š</p><blockquote><p>æµ®åŠ¨å…ƒç´ å’Œç»å¯¹å®šä½å…ƒç´ ï¼Œéå—çº§ç›’å­çš„å—çº§å®¹å™¨ï¼ˆä¾‹å¦‚ inline-blocks, table-cells, å’Œ table-captionsï¼‰ï¼Œä»¥åŠoverflowå€¼ä¸ä¸ºâ€œvisiableâ€çš„å—çº§ç›’å­ï¼Œéƒ½ä¼šä¸ºä»–ä»¬çš„å†…å®¹åˆ›å»ºæ–°çš„å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚<br>åœ¨ä¸€ä¸ªå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡é‡Œï¼Œç›’å­ä»åŒ…å«å—çš„é¡¶ç«¯å¼€å§‹å‚ç›´åœ°ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ’åˆ—ï¼Œä¸¤ä¸ªç›’å­ä¹‹é—´çš„å‚ç›´çš„é—´éš™æ˜¯ç”±ä»–ä»¬çš„margin å€¼æ‰€å†³å®šçš„ã€‚ä¸¤ä¸ªç›¸é‚»çš„å—çº§ç›’å­çš„å‚ç›´å¤–è¾¹è·ä¼šå‘ç”Ÿå åŠ ã€‚<br>åœ¨å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ä¸­ï¼Œæ¯ä¸€ä¸ªç›’å­çš„å·¦å¤–è¾¹ç¼˜ï¼ˆmargin-leftï¼‰ä¼šè§¦ç¢°åˆ°å®¹å™¨çš„å·¦è¾¹ç¼˜(border-left)ï¼ˆå¯¹äºä»å³åˆ°å·¦çš„æ ¼å¼æ¥è¯´ï¼Œåˆ™è§¦ç¢°åˆ°å³è¾¹ç¼˜ï¼‰ï¼Œå³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé™¤éè¿™ä¸ªç›’å­åˆ›å»ºä¸€ä¸ªæ–°çš„å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚</p></blockquote><p>BFCå°±æ˜¯â€œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€çš„æ„æ€ï¼Œåˆ›å»ºäº†BFCçš„å…ƒç´ å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç›’å­ï¼Œä¸è¿‡åªæœ‰Block-level boxå¯ä»¥å‚ä¸åˆ›å»ºBFCï¼Œå®ƒè§„å®šäº†å†…éƒ¨çš„Block-level Boxå¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸è¿™ä¸ªç‹¬ç«‹ç›’å­é‡Œçš„å¸ƒå±€ä¸å—å¤–éƒ¨å½±å“ï¼Œå½“ç„¶å®ƒä¹Ÿä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚</p><h2 id="bfcçš„ç‰¹æ€§"><a class="header-anchor" href="#bfcçš„ç‰¹æ€§"></a>BFCçš„ç‰¹æ€§</h2><ul><li>å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ï¼Œä»é¡¶éƒ¨å¼€å§‹ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®ã€‚</li><li>Boxå‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿå åŠ </li><li>æ¯ä¸ªå…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å—border boxçš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li><li>BFCçš„åŒºåŸŸä¸ä¼šä¸float boxå åŠ ã€‚</li><li>BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ã€‚</li><li>è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</li></ul><h2 id="è§¦å‘bfcçš„å±æ€§"><a class="header-anchor" href="#è§¦å‘bfcçš„å±æ€§"></a>è§¦å‘BFCçš„å±æ€§</h2><ul><li>float é™¤äº†noneä»¥å¤–çš„å€¼</li><li>overflow é™¤äº†visible ä»¥å¤–çš„å€¼ï¼ˆhiddenï¼Œautoï¼Œscroll ï¼‰</li><li>display (table-cellï¼Œtable-captionï¼Œinline-block, flex, inline-flex)</li><li>positionå€¼ä¸ºï¼ˆabsoluteï¼Œfixedï¼‰</li></ul><h1>æ¸…é™¤æµ®åŠ¨</h1><p>åœ¨éIEæµè§ˆå™¨ï¼ˆå¦‚Firefoxï¼‰ä¸‹ï¼Œå½“å®¹å™¨çš„é«˜åº¦ä¸ºautoï¼Œä¸”å®¹å™¨çš„å†…å®¹ä¸­æœ‰æµ®åŠ¨ï¼ˆfloatä¸ºleftæˆ–rightï¼‰çš„å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨çš„é«˜åº¦ä¸èƒ½è‡ªåŠ¨ä¼¸é•¿ä»¥é€‚åº”å†…å®¹çš„é«˜åº¦ï¼Œä½¿å¾—å†…å®¹æº¢å‡ºåˆ°å®¹å™¨å¤–é¢è€Œå½±å“ï¼ˆç”šè‡³ç ´åï¼‰å¸ƒå±€çš„ç°è±¡ã€‚è¿™ä¸ªç°è±¡å«æµ®åŠ¨æº¢å‡ºï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªç°è±¡çš„å‡ºç°è€Œè¿›è¡Œçš„CSSå¤„ç†ï¼Œå°±å«CSSæ¸…é™¤æµ®åŠ¨ã€‚</p><blockquote><p>æ¸…é™¤æµ®åŠ¨çš„æœ¬è´¨å°±æ˜¯è®©å…ƒç´ æ ‡ç­¾é—­åˆï¼Œå³è§¦å‘å…¶BFC,æ‰€ä»¥ä»¥ä¸Šå¯ä»¥è§¦å‘BFCçš„å¯ä»¥æ¸…é™¤æµ®åŠ¨,æ­¤å¤–cssè¿˜æœ‰ä¸€ä¸ªclearå±æ€§ä¹Ÿå¯ä»¥æ¸…é™¤æµ®åŠ¨</p></blockquote><h2 id="æ–¹æ³•"><a class="header-anchor" href="#æ–¹æ³•"></a>æ–¹æ³•</h2><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨é¢å¤–æ ‡ç­¾æ³•ï¼Œå³ä½¿ç”¨å¸¦clearå±æ€§çš„ç©ºå…ƒç´ </p><p>ä¼˜ç‚¹ï¼šç®€å•ï¼Œä»£ç å°‘ï¼Œæµè§ˆå™¨å…¼å®¹æ€§å¥½ã€‚</p><p>ç¼ºç‚¹ï¼šéœ€è¦æ·»åŠ å¤§é‡æ— è¯­ä¹‰çš„htmlå…ƒç´ ï¼Œä»£ç ä¸å¤Ÿä¼˜é›…ï¼ŒåæœŸä¸å®¹æ˜“ç»´æŠ¤ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">  border: solid 1px black;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box img &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box p &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.clear &#123;</span><br><span class="line">  clear: both;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"news-pic.jpg"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>some text<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clear"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æ–¹æ³•äºŒï¼šåˆ©ç”¨CSSçš„overflowå±æ€§</span><br><span class="line"></span><br><span class="line">ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ overflow:hidden;æˆ–overflow:auto;å¯ä»¥æ¸…é™¤æµ®åŠ¨ï¼Œå¦å¤–åœ¨ IE6 ä¸­è¿˜éœ€è¦è§¦å‘ hasLayout ï¼Œä¾‹å¦‚ä¸ºçˆ¶å…ƒç´ è®¾ç½®å®¹å™¨å®½é«˜æˆ–è®¾ç½® zoom:1ã€‚æ˜æ˜¾çš„ç¼ºç‚¹æ˜¯å½“å®¹å™¨å†…éƒ¨çš„å†…å®¹è¿‡å¤šæ—¶ä¼šè¢«éšè—</span><br><span class="line"></span><br><span class="line">``` html</span><br><span class="line">.box &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">  border: solid 1px black;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  *zoom: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box img &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box p &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"news-pic.jpg"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>some text<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æ–¹æ³•ä¸‰ï¼šç»™æµ®åŠ¨çš„å…ƒç´ çš„å®¹å™¨æ·»åŠ æµ®åŠ¨</span><br><span class="line"></span><br><span class="line">ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨ä¹Ÿæ·»åŠ ä¸Šæµ®åŠ¨å±æ€§å³å¯æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼šä½¿å…¶æ•´ä½“æµ®åŠ¨ï¼Œå½±å“å¸ƒå±€ï¼Œä¸æ¨èä½¿ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">æ–¹æ³•å››ï¼šç»™çˆ¶å…ƒç´ å®šé«˜</span><br><span class="line"></span><br><span class="line">çˆ¶å®¹å™¨å› ä¸ºå­å…ƒç´ æµ®åŠ¨é€ æˆé«˜åº¦æ’‘ä¸å¼€ï¼Œå¯ä»¥ç»™çˆ¶å…ƒç´ å®šé«˜åº¦ï¼Œç¼ºç‚¹æ˜æ˜¾æ˜¯å½“çˆ¶å®¹å™¨é«˜åº¦å›ºå®šäº†ï¼Œä¸å¤Ÿçµæ´»ã€‚</span><br><span class="line"></span><br><span class="line">æ–¹æ³•äº”ï¼šä½¿ç”¨cssçš„:afterä¼ªå…ƒç´ ï¼ˆç°åœ¨é¡¹ç›®ä¸­æ¸…é™¤æµ®åŠ¨å°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œå…¼å®¹æ€§è·Ÿå‹å¥½æ€§éƒ½æ¯”è¾ƒå¥½ï¼‰</span><br><span class="line"></span><br><span class="line">afterä¼ªå…ƒç´ å’Œzoomï¼š1ç»“åˆå¯ä»¥è§£å†³å½“å‰ç»å¤§å¤šæ•°æµè§ˆå™¨æµ®åŠ¨é—®é¢˜ï¼Œzoom:1å¯ä»¥è§¦å‘IEçš„hasLayoutï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">``` html</span><br><span class="line">.box &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">  border: solid 1px black;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  *zoom: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box img &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.box p &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.clearfix:after&#123;</span><br><span class="line">  content: "."; </span><br><span class="line">  display: block; </span><br><span class="line">  height: 0; </span><br><span class="line">  clear: both; </span><br><span class="line">  visibility: hidden;  </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.clearfix &#123;</span><br><span class="line">  /* è§¦å‘ hasLayout */ </span><br><span class="line">  zoom: 1;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box clearfix"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"news-pic.jpg"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>some text<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•å¯ä»¥åˆ†æˆä¸¤ç±»ï¼š<br>ä¸€æ˜¯åˆ©ç”¨ clear å±æ€§ï¼ŒåŒ…æ‹¬åœ¨æµ®åŠ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ clear: both å±æ€§çš„ç©º div æ¥é—­åˆå…ƒç´ ï¼Œå…¶å®åˆ©ç”¨ :after ä¼ªå…ƒç´ çš„æ–¹æ³•ä¹Ÿæ˜¯åœ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªå†…å®¹ä¸ºä¸€ä¸ªç‚¹å¹¶å¸¦æœ‰ clear: both å±æ€§çš„å…ƒç´ å®ç°çš„ã€‚<br>äºŒæ˜¯è§¦å‘æµ®åŠ¨å…ƒç´ çˆ¶å…ƒç´ çš„ BFC (Block Formatting Contexts, å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œä½¿åˆ°è¯¥çˆ¶å…ƒç´ å¯ä»¥åŒ…å«æµ®åŠ¨å…ƒç´ ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¢è¯•çš„æ—¶å€™ï¼Œå…³äºæ¸…é™¤æµ®åŠ¨çš„é—®é¢˜ç»å¸¸ä¼šè¢«è€ƒå¯Ÿï¼Œä¸€å¼€å§‹å¯¹æ¸…é™¤æµ®åŠ¨äº†è§£ä¸æ·±ï¼ŒåªçŸ¥é“cssæœ‰ä¸ªclearå±æ€§ã€‚åœ¨å¹³æ—¶å¼€å‘ä¸­ä¹Ÿç»å¸¸ä¼šç”¨åˆ°floatå¸ƒå±€æ–¹å¼ï¼Œä¹‹å‰å› ä¸ºäº†è§£ä¸æ·±ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ç§å¸ƒå±€çš„æ—¶å€™ç»å¸¸å‡ºç°é—®é¢˜ã€‚åé¢æŸ¥æ‰¾èµ„æ–™æ‰å‘ç°åŸæ¥æ¸…é™¤æµ®åŠ¨åé¢å¤§æœ‰å­¦é—®ï¼Œäº†è§£æ¸…é™¤æµ®åŠ¨æœ‰åˆ©äºæˆ‘ä»¬å¯¹å¸ƒå±€çš„å¼€å‘ï¼Œä¸‹é¢æ˜¯å¯¹äº†è§£ä¹‹åä½œå‡ºçš„ä¸€äº›æ€»ç»“ï¼Œå¯èƒ½æ€»ç»“çš„ä¸å…¨é¢ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨äº†è§£æ¸…é™¤æµ®åŠ¨ä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹ä»€ä¹ˆæ˜¯BFCã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="https://huangzhuangjia.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ä¸ªä¸ªäººåšå®¢</title>
    <link href="https://huangzhuangjia.github.io/2017/02/15/hello-world/"/>
    <id>https://huangzhuangjia.github.io/2017/02/15/hello-world/</id>
    <published>2017-02-15T10:05:22.000Z</published>
    <updated>2019-01-11T06:28:44.672Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€ç›´æœ‰ä¸ªæƒ³æä¸ªä¸ªäººåšå®¢ç©ç©çš„æƒ³æ³•ï¼Œä»Šå¤©åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªé™æ€åšå®¢æ¡†æ¶Hexoï¼Œäºæ˜¯çœ‹æ•™ç¨‹å­¦ç€æ­å»ºäº†ä¸€ä¸ªï¼Œç°åœ¨çœ‹èµ·æ¥å¾ˆæˆåŠŸï¼Œå“ˆå“ˆï¼å¼€å¯æˆ‘çš„åšå®¢ä¹‹æ—…å§ï¼</p><div align="center"><img src="http://www.w3cplus.com/sites/default/files/blogs/2017/1702/understanding-flexbox-3.gif" alt="å›¾æ–‡"></div><a id="more"></a><h2 id="å®‰è£…å‰ç³»ç»Ÿæ‰€éœ€è¦çš„å·¥å…·"><a class="header-anchor" href="#å®‰è£…å‰ç³»ç»Ÿæ‰€éœ€è¦çš„å·¥å…·"></a>å®‰è£…å‰ç³»ç»Ÿæ‰€éœ€è¦çš„å·¥å…·</h2><h3 id="1-git"><a class="header-anchor" href="#1-git"></a>1ã€Git</h3><p>Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿçš„å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚Hexoå°±æ˜¯å°†ä½ çš„åšå®¢é¡¹ç›®ä¸Šä¼ æ‰˜ç®¡åˆ°git,é€šè¿‡githubæ¥è®¿é—®ä½ çš„ä¸ªäººåšå®¢äº†ã€‚</p><h3 id="2-node"><a class="header-anchor" href="#2-node"></a>2ã€Node</h3><p>å› ä¸ºHexoæ˜¯ä¸€æ¬¾åŸºäºNode.jsçš„é™æ€åšå®¢æ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å¥½å®ƒã€‚</p><h3 id="3-hexo"><a class="header-anchor" href="#3-hexo"></a>3ã€Hexo</h3><p>å®‰è£…å¥½Gitå’ŒNode.jsä¹‹åï¼Œè½®åˆ°æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ç™»åœºäº†~å…ˆæ‰“å¼€Git Bashï¼Œç„¶åè¾“å…¥ä¸‹é¢è¿™æ¡å‘½ä»¤æ¥å®‰è£…Hexoï¼š</p><pre><code class="language-bash">$ npm install hexo-cli -g</code></pre><p>å®‰è£…å®Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><pre><code class="language-bash">$ hexo -v</code></pre><p>å¦‚æœå‡ºç°ç±»ä¼¼ä»¥ä¸‹å†…å®¹çš„åˆ™å®‰è£…æˆåŠŸ</p><pre><code class="language-bash">hexo: 3.2.2hexo-cli: 1.0.2os: Darwin 16.1.0 darwin x64http_parser: 2.7.0node: 6.9.1v8: 5.1.281.84uv: 1.9.1zlib: 1.2.8ares: 1.10.1-DEVicu: 57.1modules: 48openssl: 1.0.2j</code></pre><p>æ¥ä¸‹æ¥å°±å¯ä»¥ç”¨Hexoæ„‰å¿«çš„zhuangbilityäº†ï¼ï¼ï¼</p><h2 id="åˆ›å»ºå±äºè‡ªå·±çš„åšå®¢"><a class="header-anchor" href="#åˆ›å»ºå±äºè‡ªå·±çš„åšå®¢"></a>åˆ›å»ºå±äºè‡ªå·±çš„åšå®¢</h2><h3 id="åˆå§‹åŒ–hexoåˆ›å»ºåšå®¢æ¨¡æ¿"><a class="header-anchor" href="#åˆå§‹åŒ–hexoåˆ›å»ºåšå®¢æ¨¡æ¿"></a>åˆå§‹åŒ–hexoåˆ›å»ºåšå®¢æ¨¡æ¿</h3><p>åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚blog,è¿›å…¥æ–‡ä»¶å¤¹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class="language-bash"> $ hexo init</code></pre><p>æ‰§è¡Œå®Œæˆä¹‹åå¯ä»¥åœ¨blogæ–‡ä»¶ä¸‹çœ‹åˆ°åšå®¢ç›¸å…³çš„é…ç½®æ–‡ä»¶~~~</p><h3 id="é…ç½®github"><a class="header-anchor" href="#é…ç½®github"></a>é…ç½®github</h3><p><a href="http://blog.csdn.net/yuexianchang/article/details/53431703" target="_blank" rel="noopener">å»ºç«‹<em>Repository</em></a>ï¼Œå»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºã€your_user_name.github.ioã€‘ï¼Œç„¶åä¸æœ¬åœ°blogå»ºç«‹å…³è”ï¼Œ<br>å…³è”ä¹‹å‰é¦–å…ˆé…ç½®ä¸€ä¸‹blogæ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼š</p><pre><code class="language-bash"> deploy:     type: git     repo: ä½ åˆ›å»ºçš„åšå®¢æ‰€åœ¨çš„ä»“åº“githubè·¯å¾„     branch: master</code></pre><p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šå…¶ä¸­hexo gæ˜¯ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•ï¼Œhexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub</p><pre><code class="language-bash">$ npm install hexo-deployer-git --save$ hexo g$ hexo d</code></pre><p>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼š</p><pre><code class="language-bash">hexo new &quot;postName&quot; #æ–°å»ºæ–‡ç« hexo new page &quot;pageName&quot; #æ–°å»ºé¡µé¢hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ'ctrl + c'å…³é—­serverï¼‰hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHubhexo help # æŸ¥çœ‹å¸®åŠ©hexo version #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</code></pre><p>è‡³æ­¤ï¼Œ<a href="http://xn--username-sc0mo0cqns1cba863lz7bgv9ct7lbice7v1n2he10e.github.io" target="_blank" rel="noopener">ä½ å¯ä»¥æ‰“å¼€ä½ çš„ä¸ªäººåšå®¢è·¯å¾„username.github.io</a>ï¼Œå°±å¯ä»¥çœ‹åˆ°ä½ çš„åšå®¢äº†ã€‚</p><blockquote><p><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">æ›´åŠ è¯¦ç»†çš„æ•™ç¨‹å‰å¾€hexoçš„ä¸­æ–‡å®˜ç½‘æŸ¥çœ‹</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ä¸€ç›´æœ‰ä¸ªæƒ³æä¸ªä¸ªäººåšå®¢ç©ç©çš„æƒ³æ³•ï¼Œä»Šå¤©åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªé™æ€åšå®¢æ¡†æ¶Hexoï¼Œäºæ˜¯çœ‹æ•™ç¨‹å­¦ç€æ­å»ºäº†ä¸€ä¸ªï¼Œç°åœ¨çœ‹èµ·æ¥å¾ˆæˆåŠŸï¼Œå“ˆå“ˆï¼å¼€å¯æˆ‘çš„åšå®¢ä¹‹æ—…å§ï¼&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;&lt;img src=&quot;http://www.w3cplus.com/sites/default/files/blogs/2017/1702/understanding-flexbox-3.gif&quot; alt=&quot;å›¾æ–‡&quot;&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://huangzhuangjia.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
